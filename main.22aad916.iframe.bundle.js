/*! For license information please see main.22aad916.iframe.bundle.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"./.storybook/preview.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){__webpack_require__.d(__webpack_exports__,"parameters",(function(){return parameters}));var _storybook_react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@storybook/react/dist/esm/client/index.js");Object(_storybook_react__WEBPACK_IMPORTED_MODULE_0__.configure)((function loaderFn(){return[__webpack_require__("./stories/docs/Welcome.stories.mdx"),__webpack_require__("./stories/docs/Changelog.stories.mdx"),__webpack_require__("./stories/Basic.stories.tsx"),__webpack_require__("./stories/Direction.stories.tsx"),__webpack_require__("./stories/Grid.stories.tsx"),__webpack_require__("./stories/Nested.stories.tsx"),__webpack_require__("./stories/Animation.stories.tsx")]}),module);var parameters={actions:{argTypesRegex:"^on.*"}}}.call(this,__webpack_require__("./node_modules/webpack/buildin/harmony-module.js")(module))},"./.storybook/preview.js-generated-config-entry.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-properties.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js");var _home_runner_work_asany_sortable_asany_sortable_node_modules_storybook_client_api__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/@storybook/client-api/dist/esm/ClientApi.js"),_home_runner_work_asany_sortable_asany_sortable_storybook_preview_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./.storybook/preview.js");function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.keys(_home_runner_work_asany_sortable_asany_sortable_storybook_preview_js__WEBPACK_IMPORTED_MODULE_10__).forEach((function(key){var value=_home_runner_work_asany_sortable_asany_sortable_storybook_preview_js__WEBPACK_IMPORTED_MODULE_10__[key];switch(key){case"args":return Object(_home_runner_work_asany_sortable_asany_sortable_node_modules_storybook_client_api__WEBPACK_IMPORTED_MODULE_9__.d)(value);case"argTypes":return Object(_home_runner_work_asany_sortable_asany_sortable_node_modules_storybook_client_api__WEBPACK_IMPORTED_MODULE_9__.b)(value);case"decorators":return value.forEach((function(decorator){return Object(_home_runner_work_asany_sortable_asany_sortable_node_modules_storybook_client_api__WEBPACK_IMPORTED_MODULE_9__.f)(decorator,!1)}));case"loaders":return value.forEach((function(loader){return Object(_home_runner_work_asany_sortable_asany_sortable_node_modules_storybook_client_api__WEBPACK_IMPORTED_MODULE_9__.g)(loader,!1)}));case"parameters":return Object(_home_runner_work_asany_sortable_asany_sortable_node_modules_storybook_client_api__WEBPACK_IMPORTED_MODULE_9__.h)(function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({},value),!1);case"argTypesEnhancers":return value.forEach((function(enhancer){return Object(_home_runner_work_asany_sortable_asany_sortable_node_modules_storybook_client_api__WEBPACK_IMPORTED_MODULE_9__.c)(enhancer)}));case"argsEnhancers":return value.forEach((function(enhancer){return Object(_home_runner_work_asany_sortable_asany_sortable_node_modules_storybook_client_api__WEBPACK_IMPORTED_MODULE_9__.e)(enhancer)}));case"render":return Object(_home_runner_work_asany_sortable_asany_sortable_node_modules_storybook_client_api__WEBPACK_IMPORTED_MODULE_9__.i)(value);case"globals":case"globalTypes":var v={};return v[key]=value,Object(_home_runner_work_asany_sortable_asany_sortable_node_modules_storybook_client_api__WEBPACK_IMPORTED_MODULE_9__.h)(v,!1);case"__namedExportsOrder":case"decorateStory":case"renderToDOM":return null;default:return console.log(key+" was not supported :( !")}}))},"./generated-stories-entry.js":function(module,exports,__webpack_require__){"use strict";(function(module){(0,__webpack_require__("./node_modules/@storybook/react/dist/esm/client/index.js").configure)([__webpack_require__("./stories sync recursive ^\\.(?:(?:^|\\/|(?:(?:(?!(?:^|\\/)\\.).)*?)\\/)(?!\\.)(?=.)[^/]*?\\.stories\\.(js|jsx|ts|tsx|mdx))$")],module,!1)}).call(this,__webpack_require__("./node_modules/webpack/buildin/module.js")(module))},"./node_modules/css-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js!./src/style/index.less":function(module,exports,__webpack_require__){(exports=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(!1)).push([module.i,".sortable-container {\n  display: flex;\n}\n.sortable-container.sortable-list-horizontal .sortable-flipper {\n  flex-direction: row;\n}\n.sortable-container.sortable-grid-horizontal .sortable-flipper {\n  flex-direction: row;\n  flex-wrap: wrap;\n}\n.sortable-container.sortable-list-vertical .sortable-flipper {\n  flex-direction: column;\n}\n.sortable-container.sortable-grid-vertical .sortable-flipper {\n  flex-direction: column;\n  flex-wrap: wrap;\n}\n.sortable-container .sortable-flipper {\n  display: flex;\n  flex: 1;\n}\n.sortable-container .sortable-item-dragging {\n  position: relative;\n  opacity: 0.6;\n}\n.sortable-container .sortable-item-dragging::after {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  display: block;\n  content: '';\n}\n",""]),module.exports=exports},"./src/index.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return src_Sortable}));__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js"),__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.array.some.js"),__webpack_require__("./node_modules/core-js/modules/es.array.join.js"),__webpack_require__("./src/style/index.less");var SortableEventType,classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),react=__webpack_require__("./node_modules/react/index.js"),react_default=__webpack_require__.n(react),index_es=__webpack_require__("./node_modules/react-flip-toolkit/lib/index.es.js"),isEqual=(__webpack_require__("./node_modules/core-js/modules/es.promise.js"),__webpack_require__("./node_modules/core-js/modules/es.array.find.js"),__webpack_require__("./node_modules/core-js/modules/es.array.includes.js"),__webpack_require__("./node_modules/core-js/modules/es.string.includes.js"),__webpack_require__("./node_modules/core-js/modules/es.string.split.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.exec.js"),__webpack_require__("./node_modules/core-js/modules/es.string.starts-with.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.async-iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.to-string-tag.js"),__webpack_require__("./node_modules/core-js/modules/es.math.to-string-tag.js"),__webpack_require__("./node_modules/core-js/modules/es.json.to-string-tag.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("./node_modules/core-js/modules/es.object.create.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.object.set-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.array.reverse.js"),__webpack_require__("./node_modules/lodash/isEqual.js")),isEqual_default=__webpack_require__.n(isEqual),throttle=__webpack_require__("./node_modules/lodash/throttle.js"),throttle_default=__webpack_require__.n(throttle),useDrop=__webpack_require__("./node_modules/react-dnd/dist/hooks/useDrop/useDrop.js"),react_is=__webpack_require__("./node_modules/react-is/index.js"),events_events=(__webpack_require__("./node_modules/core-js/modules/es.set.js"),__webpack_require__("./node_modules/core-js/modules/web.timers.js"),__webpack_require__("./node_modules/core-js/modules/es.array.concat.js"),__webpack_require__("./node_modules/core-js/modules/es.array.find-index.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/core-js/modules/es.array.splice.js"),__webpack_require__("./node_modules/events/events.js")),immutability_helper=__webpack_require__("./node_modules/immutability-helper/index.js"),immutability_helper_default=__webpack_require__.n(immutability_helper);!function(SortableEventType){SortableEventType.CHANGE="change",SortableEventType.RESET="reset",SortableEventType.DROP="drop",SortableEventType.BUILD_REF="build_ref",SortableEventType.UNBUILD_REF="unbuild_ref",SortableEventType.OVER="OVER",SortableEventType.DRAGGING="DRAGGING"}(SortableEventType||(SortableEventType={}));var typings_SortableChangeEventType,SortableActionType;!function(SortableChangeEventType){SortableChangeEventType.DROP="drop",SortableChangeEventType.REMOVE="remove",SortableChangeEventType.SORT="sort",SortableChangeEventType.DRAG="drag",SortableChangeEventType.UPDATE="update"}(typings_SortableChangeEventType||(typings_SortableChangeEventType={})),function(SortableActionType){SortableActionType.init="init",SortableActionType.register="register",SortableActionType.UPDATE_ID="UPDATE_ID",SortableActionType.UPDATE_PREVIEW="UPDATE_PREVIEW",SortableActionType.update="update",SortableActionType.move="move",SortableActionType.moveIn="moveIn",SortableActionType.moveOut="moveOut",SortableActionType.remove="remove",SortableActionType.reset="reset",SortableActionType.dragging="dragging",SortableActionType.drop="drop",SortableActionType.moving="moving",SortableActionType.observed="observed",SortableActionType.indicator="indicator",SortableActionType.UPDATE_POS="UPDATE_POS"}(SortableActionType||(SortableActionType={}));__webpack_require__("./node_modules/core-js/modules/es.string.replace.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.date.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.typed-array.uint32-array.js"),__webpack_require__("./node_modules/core-js/modules/es.typed-array.copy-within.js"),__webpack_require__("./node_modules/core-js/modules/es.typed-array.every.js"),__webpack_require__("./node_modules/core-js/modules/es.typed-array.fill.js"),__webpack_require__("./node_modules/core-js/modules/es.typed-array.filter.js"),__webpack_require__("./node_modules/core-js/modules/es.typed-array.find.js"),__webpack_require__("./node_modules/core-js/modules/es.typed-array.find-index.js"),__webpack_require__("./node_modules/core-js/modules/es.typed-array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.typed-array.includes.js"),__webpack_require__("./node_modules/core-js/modules/es.typed-array.index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.typed-array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.typed-array.join.js"),__webpack_require__("./node_modules/core-js/modules/es.typed-array.last-index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.typed-array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.typed-array.reduce.js"),__webpack_require__("./node_modules/core-js/modules/es.typed-array.reduce-right.js"),__webpack_require__("./node_modules/core-js/modules/es.typed-array.reverse.js"),__webpack_require__("./node_modules/core-js/modules/es.typed-array.set.js"),__webpack_require__("./node_modules/core-js/modules/es.typed-array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.typed-array.some.js"),__webpack_require__("./node_modules/core-js/modules/es.typed-array.sort.js"),__webpack_require__("./node_modules/core-js/modules/es.typed-array.subarray.js"),__webpack_require__("./node_modules/core-js/modules/es.typed-array.to-locale-string.js"),__webpack_require__("./node_modules/core-js/modules/es.typed-array.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.array-buffer.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.array.reduce.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-properties.js");var sleep=function sleep(time){return new Promise((function(resolve){setTimeout((function(){resolve(0)}),time)}))};function useDeepCompareEffect(effect,dependencies){Object(react.useEffect)(effect,function useDeepCompareMemoize(value){var ref=Object(react.useRef)();(function deepCompareEquals(a,b){return isEqual_default()(a,b)})(value,ref.current)||(ref.current=value);return ref.current}(dependencies))}function utils_assign(target){for(var _len=arguments.length,sources=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)sources[_key-1]=arguments[_key];return sources.forEach((function(source){var descriptors=Object.keys(source).reduce((function(descriptors,key){return descriptors[key]=Object.getOwnPropertyDescriptor(source,key),descriptors}),{});Object.getOwnPropertySymbols(source).forEach((function(sym){var descriptor=Object.getOwnPropertyDescriptor(source,sym);descriptor.enumerable&&(descriptors[sym]=descriptor)})),Object.defineProperties(target,descriptors)})),target}var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),_excluded=["sortable","rect"],_excluded2=["_originalSortable","_sortable","_rect"],_excluded3=["_originalSortable","_sortable","_rect"],_excluded4=["_originalSortable","_sortable","_rect"];function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||_unsupportedIterableToArray(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var SortableStoreContext=react_default.a.createContext({getState:function getState(){return{}},subscribe:function subscribe(){}}),useEventManager=function useEventManager(){return SortableProvider_useSortableStore().eventEmitter},useSortableDispatch=function useSortableDispatch(){return SortableProvider_useSortableStore().dispatch},defaultEqualityFn=function defaultEqualityFn(a,b){return a===b};function useSortableSelector(selector){var equalityFn=arguments.length>1&&void 0!==arguments[1]?arguments[1]:defaultEqualityFn,store=SortableProvider_useSortableStore(),_useReducer=Object(react.useReducer)((function(s){return s+1}),0),_useReducer2=_slicedToArray(_useReducer,2),forceRender=_useReducer2[1],latestSelectedState=Object(react.useRef)(),selectedState=selector(store.getState());function checkForUpdates(){var newSelectedState=selector(store.getState());equalityFn(newSelectedState,latestSelectedState.current)||(latestSelectedState.current=newSelectedState,forceRender())}return Object(react.useEffect)((function(){return store.subscribe(checkForUpdates)}),[]),selectedState}var SortableProvider_useSortableStore=function useSortableStore(){return Object(react.useContext)(SortableStoreContext)};function useStore(items,pos,preview){var prevStore=SortableProvider_useSortableStore(),SORTABLE_ID=_slicedToArray(Object(react.useState)(function generateUUID(){return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,(function(c){return(c^crypto.getRandomValues(new Uint32Array(1))[0]&15>>c/4).toString(16)}))}()),1)[0],intersectionObserverCallback=Object(react.useRef)(function delayDispatch(callback,delay){var exec,wakeupBuffer=new Set,sleepBuffer=new Set;return function(type,value){"wakeup"==type?(wakeupBuffer.add(value),sleepBuffer.delete(value)):(wakeupBuffer.delete(value),sleepBuffer.add(value)),exec||(exec=setTimeout((function(){var wakeups=Array.from(wakeupBuffer);wakeupBuffer.clear();var sleeps=Array.from(sleepBuffer);sleepBuffer.clear(),exec=void 0,callback(wakeups,sleeps)}),delay))}}((function(wakeups,sleeps){dispatch({type:SortableActionType.observed,payload:{wakeups:wakeups,sleeps:sleeps}})}),120)),_useReducer3=Object(react.useReducer)((function(state,action){if(action.type===SortableActionType.UPDATE_ID)return immutability_helper_default()(state,{id:{$set:action.payload}});if(action.type===SortableActionType.UPDATE_PREVIEW)return immutability_helper_default()(state,{preview:{$set:action.payload}});if(action.type===SortableActionType.UPDATE_POS)return state.items.forEach((function(item,index){item.index=index,item.pos=[].concat(_toConsumableArray(action.payload),[index])})),immutability_helper_default()(state,{pos:{$set:action.payload},items:{$set:state.items}});if(action.type===SortableActionType.register){var data=action.payload,item=state.items.find((function(item){return item.id==data.id}));return item&&utils_assign(item,data),Object.assign({},state)}if(action.type===SortableActionType.move){var _items=state.items,_action$payload=action.payload,source=_action$payload.source,target=_action$payload.target,relation=_action$payload.relation,sourceIndex=_items.findIndex((function(data){return data.id==source})),targetIndex=_items.findIndex((function(data){return data.id==target}));if(sourceIndex==targetIndex||-1==sourceIndex||-1==targetIndex)return state;if("before"===relation&&sourceIndex<targetIndex)return state;if("after"===relation&&sourceIndex>targetIndex)return state;var sourceItem=_items[sourceIndex];return immutability_helper_default()(state,{items:{$splice:[[sourceIndex,1],[targetIndex,0,sourceItem]]},logs:{$push:[{source:source,target:target,sourceIndex:sourceIndex,targetIndex:targetIndex}]}})}if(action.type===SortableActionType.remove||action.type===SortableActionType.moveOut){var _items2=state.items,_item=action.payload,itemIndex=_items2.findIndex((function(data){return data.id==_item.id}));return-1==itemIndex?state:immutability_helper_default()(state,{items:{$splice:[[itemIndex,1]]}})}if(action.type===SortableActionType.moveIn){var _action$payload2=action.payload,index=_action$payload2.index,_action$payload2$item=_action$payload2.item,_item2=(_action$payload2$item.sortable,_action$payload2$item.rect,_objectWithoutProperties(_action$payload2$item,_excluded));return-1==index?immutability_helper_default()(state,{items:{$push:[_item2]}}):immutability_helper_default()(state,{items:{$splice:[[index,0,_item2]]}})}if(action.type===SortableActionType.dragging)return immutability_helper_default()(state,{backup:{$set:_toConsumableArray(state.items)},dragging:{$set:action.payload}});if(action.type===SortableActionType.drop)return immutability_helper_default()(state,{backup:{$set:[]},dragging:{$set:void 0},logs:{$set:[]}});if(action.type===SortableActionType.reset){var _items3=state.items,backup=state.backup;return immutability_helper_default()(state,{items:{$set:backup.map((function(item){return _items3.find((function(x){return x.id==item.id}))||item}))},backup:{$set:[]},dragging:{$set:void 0},logs:{$set:[]}})}if(action.type===SortableActionType.moving)return immutability_helper_default()(state,{moving:{$set:action.payload}});if(action.type==SortableActionType.observed){var activeIds=state.activeIds,_action$payload3=action.payload,wakeups=_action$payload3.wakeups,sleeps=_action$payload3.sleeps,set=new Set(activeIds);return wakeups.forEach(set.add.bind(set)),sleeps.forEach(set.delete.bind(set)),immutability_helper_default()(state,{activeIds:{$set:Array.from(set)}})}return action.type==SortableActionType.init?Object.assign({},action.payload):state}),{items:items,backup:[],logs:[],id:SORTABLE_ID,moving:!1,preview:!!preview,activeIds:[],io:new IntersectionObserver((function(ioes){ioes.forEach((function(ioe){var el=ioe.target,intersectionRatio=ioe.intersectionRatio,key=el.dataset.id;intersectionObserverCallback.current(intersectionRatio>0?"wakeup":"sleep",key)}))}),{threshold:[0,.1]})}),_useReducer4=_slicedToArray(_useReducer3,2),state=_useReducer4[0],dispatch=_useReducer4[1],listeners=_slicedToArray(Object(react.useState)([]),1)[0],handleSubscribe=Object(react.useCallback)((function(callback){return listeners.push(callback),function handleUnsubscribe(callback){return function(){var index=listeners.indexOf(callback);index>-1&&listeners.splice(index,1)}}(callback)}),[listeners]),handleDispatchSubscribe=Object(react.useCallback)((function(){var _step,_iterator=function _createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e2){throw _e2},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=it.call(o)},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e3){didErr=!0,err=_e3},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}(listeners);try{for(_iterator.s();!(_step=_iterator.n()).done;){(0,_step.value)()}}catch(err){_iterator.e(err)}finally{_iterator.f()}}),[]),store=_slicedToArray(Object(react.useState)((function(){var initStore={getState:function getState(){return state},dispatch:dispatch,eventEmitter:prevStore.eventEmitter||new events_events.EventEmitter,subscribe:handleSubscribe};return initStore.eventEmitter.setMaxListeners(500),initStore})),1)[0],parentId=useSortableSelector((function(state){return state.id}));Object(react.useEffect)((function(){parentId&&dispatch({type:SortableActionType.UPDATE_ID,payload:parentId+"/"+SORTABLE_ID})}),[parentId]);var parentPreview=useSortableSelector((function(state){return state.preview}));Object(react.useEffect)((function(){dispatch(null!=parentPreview?{type:SortableActionType.UPDATE_PREVIEW,payload:parentPreview}:{type:SortableActionType.UPDATE_PREVIEW,payload:preview})}),[preview,parentPreview]),Object(react.useEffect)((function(){store.getState=function(){return state},handleDispatchSubscribe()}),[state]);var outside=items.map((function(_ref){_ref._originalSortable,_ref._sortable,_ref._rect;return _objectWithoutProperties(_ref,_excluded2)}));return useDeepCompareEffect((function(){var state=store.getState(),inside=state.items.map((function(_ref2){_ref2._originalSortable,_ref2._sortable,_ref2._rect;return _objectWithoutProperties(_ref2,_excluded3)}));isEqual_default()(inside,outside)||(dispatch({type:SortableActionType.init,payload:{items:outside.map((function(item){var data=state.items.find((function(x){return x.id==item.id}));if(!data)return item;data._originalSortable,data._sortable,data._rect;var prevData=_objectWithoutProperties(data,_excluded4);return isEqual_default()(prevData,item)?data:utils_assign(Object.assign({},data),item)})),pos:state.pos,activeIds:state.activeIds,io:state.io,backup:[],logs:[],preview:!!parentPreview||!!preview,moving:!1,id:state.id}}),state.pos&&dispatch({type:SortableActionType.UPDATE_POS,payload:state.pos}))}),[outside]),Object(react.useEffect)((function(){dispatch({type:SortableActionType.UPDATE_POS,payload:pos})}),[pos.join("-")]),Object(react.useEffect)((function(){return function(){return state.io.disconnect()}}),[]),store}var SortableProvider_SortableProvider=function SortableProvider(props){var _props$deps=props.deps,deps=void 0===_props$deps?[]:_props$deps,pos=props.pos,items=props.items,children=props.children,preview=props.preview,rerender=props.rerender,store=useStore(items,pos,preview);return Object(react.useEffect)((function(){rerender&&store.eventEmitter.emit("ITEMRENDER_RERENDER")})),Object(react.useMemo)((function(){return Object(jsx_runtime.jsx)(SortableStoreContext.Provider,{value:store,children:children})}),deps)};try{SortableProvider_SortableProvider.displayName="SortableProvider",SortableProvider_SortableProvider.__docgenInfo={description:"模仿 Redux 的 useSortableSelector",displayName:"SortableProvider",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/SortableProvider.tsx#SortableProvider"]={docgenInfo:SortableProvider_SortableProvider.__docgenInfo,name:"SortableProvider",path:"src/SortableProvider.tsx#SortableProvider"})}catch(__react_docgen_typescript_loader_error){}function isRectangleOverlap(rec1,rec2){var x_overlap=!(rec1[2]<=rec2[0]||rec2[2]<=rec1[0]),y_overlap=!(rec1[3]<=rec2[1]||rec2[3]<=rec1[1]);return!(!x_overlap||!y_overlap)&&{x:x_overlap,y:y_overlap}}function getMonitorCoord(layout,itemRect,sourceClientOffset){var layoutRect=layout.current.getBoundingClientRect(),top=sourceClientOffset.y-layoutRect.top,left=sourceClientOffset.x-layoutRect.left,height=itemRect.height,width=itemRect.width;return{_rect:layoutRect,top:top,height:height,left:left,width:itemRect.width,direction:function direction(_ref,layout,detection){var y=_ref.y,x=_ref.x,h=_ref.h,w=_ref.w,currentRec=[left,top,left+width,top+height],overlap=isRectangleOverlap(currentRec,[x,y,x+w,y+h]);if(!overlap)return NaN;var x1=x+w/2,y1=y+h/2,source=function getRec(itemRect,layoutRect){var x=itemRect.left-layoutRect.left,y=itemRect.top-layoutRect.top;return[x,y,x+itemRect.width,y+itemRect.height]}(itemRect,layoutRect),target=[x,y,x+w,y+h];if("grid"===layout)return(overlap=isRectangleOverlap(currentRec,[x1,y1,x1,y1]))?source[3]<=target[1]||source[2]<=target[0]?1:-1:NaN;if("vertical"===detection&&overlap.y){var mx1=left+width/2,my1=top+height/2;return(overlap=height>h?isRectangleOverlap(currentRec,[x1,y1,x1,y1]):isRectangleOverlap([mx1,my1,mx1,my1],target)).y?my1-y1:NaN}return"horizontal"===detection&&overlap.x?source[2]<=target[0]?1:-1:NaN},compare:function compare(_){throw"未实现逻辑"}}}function getItemCoord(layout,item){var layoutRect=layout.current.getBoundingClientRect(),itemRect=item._rect,top=itemRect.top-layoutRect.top,left=itemRect.left-layoutRect.left;return{top:top,left:left,itemRect:itemRect.height,compare:function compare(other,layout,detection){return other.direction({y:top,x:left,h:itemRect.height,w:itemRect.width},layout,detection)}}}var DEFAULT_RECT={height:0,width:0,y:0,x:0,bottom:0,right:0,left:0,top:0,toJSON:function toJSON(){}};function findInnerIndex(id,items){return items.findIndex((function(data){return data.id===id}))}var injectAnime=function injectAnime(props){var key=[],anime=Object.keys(props).filter((function(key){return key.startsWith("data-flip")})).reduce((function(data,name){return data[name]=props[name],key.push(props[name]),data}),{});return anime.key=key.join(","),anime};try{injectAnime.displayName="injectAnime",injectAnime.__docgenInfo={description:"",displayName:"injectAnime",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/utils.tsx#injectAnime"]={docgenInfo:injectAnime.__docgenInfo,name:"injectAnime",path:"src/utils.tsx#injectAnime"})}catch(__react_docgen_typescript_loader_error){}function _regeneratorRuntime(){_regeneratorRuntime=function _regeneratorRuntime(){return exports};var exports={},Op=Object.prototype,hasOwn=Op.hasOwnProperty,$Symbol="function"==typeof Symbol?Symbol:{},iteratorSymbol=$Symbol.iterator||"@@iterator",asyncIteratorSymbol=$Symbol.asyncIterator||"@@asyncIterator",toStringTagSymbol=$Symbol.toStringTag||"@@toStringTag";function define(obj,key,value){return Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}),obj[key]}try{define({},"")}catch(err){define=function define(obj,key,value){return obj[key]=value}}function wrap(innerFn,outerFn,self,tryLocsList){var protoGenerator=outerFn&&outerFn.prototype instanceof Generator?outerFn:Generator,generator=Object.create(protoGenerator.prototype),context=new Context(tryLocsList||[]);return generator._invoke=function(innerFn,self,context){var state="suspendedStart";return function(method,arg){if("executing"===state)throw new Error("Generator is already running");if("completed"===state){if("throw"===method)throw arg;return doneResult()}for(context.method=method,context.arg=arg;;){var delegate=context.delegate;if(delegate){var delegateResult=maybeInvokeDelegate(delegate,context);if(delegateResult){if(delegateResult===ContinueSentinel)continue;return delegateResult}}if("next"===context.method)context.sent=context._sent=context.arg;else if("throw"===context.method){if("suspendedStart"===state)throw state="completed",context.arg;context.dispatchException(context.arg)}else"return"===context.method&&context.abrupt("return",context.arg);state="executing";var record=tryCatch(innerFn,self,context);if("normal"===record.type){if(state=context.done?"completed":"suspendedYield",record.arg===ContinueSentinel)continue;return{value:record.arg,done:context.done}}"throw"===record.type&&(state="completed",context.method="throw",context.arg=record.arg)}}}(innerFn,self,context),generator}function tryCatch(fn,obj,arg){try{return{type:"normal",arg:fn.call(obj,arg)}}catch(err){return{type:"throw",arg:err}}}exports.wrap=wrap;var ContinueSentinel={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var IteratorPrototype={};define(IteratorPrototype,iteratorSymbol,(function(){return this}));var getProto=Object.getPrototypeOf,NativeIteratorPrototype=getProto&&getProto(getProto(values([])));NativeIteratorPrototype&&NativeIteratorPrototype!==Op&&hasOwn.call(NativeIteratorPrototype,iteratorSymbol)&&(IteratorPrototype=NativeIteratorPrototype);var Gp=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(IteratorPrototype);function defineIteratorMethods(prototype){["next","throw","return"].forEach((function(method){define(prototype,method,(function(arg){return this._invoke(method,arg)}))}))}function AsyncIterator(generator,PromiseImpl){function invoke(method,arg,resolve,reject){var record=tryCatch(generator[method],generator,arg);if("throw"!==record.type){var result=record.arg,value=result.value;return value&&"object"==typeof value&&hasOwn.call(value,"__await")?PromiseImpl.resolve(value.__await).then((function(value){invoke("next",value,resolve,reject)}),(function(err){invoke("throw",err,resolve,reject)})):PromiseImpl.resolve(value).then((function(unwrapped){result.value=unwrapped,resolve(result)}),(function(error){return invoke("throw",error,resolve,reject)}))}reject(record.arg)}var previousPromise;this._invoke=function(method,arg){function callInvokeWithMethodAndArg(){return new PromiseImpl((function(resolve,reject){invoke(method,arg,resolve,reject)}))}return previousPromise=previousPromise?previousPromise.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(delegate,context){var method=delegate.iterator[context.method];if(void 0===method){if(context.delegate=null,"throw"===context.method){if(delegate.iterator.return&&(context.method="return",context.arg=void 0,maybeInvokeDelegate(delegate,context),"throw"===context.method))return ContinueSentinel;context.method="throw",context.arg=new TypeError("The iterator does not provide a 'throw' method")}return ContinueSentinel}var record=tryCatch(method,delegate.iterator,context.arg);if("throw"===record.type)return context.method="throw",context.arg=record.arg,context.delegate=null,ContinueSentinel;var info=record.arg;return info?info.done?(context[delegate.resultName]=info.value,context.next=delegate.nextLoc,"return"!==context.method&&(context.method="next",context.arg=void 0),context.delegate=null,ContinueSentinel):info:(context.method="throw",context.arg=new TypeError("iterator result is not an object"),context.delegate=null,ContinueSentinel)}function pushTryEntry(locs){var entry={tryLoc:locs[0]};1 in locs&&(entry.catchLoc=locs[1]),2 in locs&&(entry.finallyLoc=locs[2],entry.afterLoc=locs[3]),this.tryEntries.push(entry)}function resetTryEntry(entry){var record=entry.completion||{};record.type="normal",delete record.arg,entry.completion=record}function Context(tryLocsList){this.tryEntries=[{tryLoc:"root"}],tryLocsList.forEach(pushTryEntry,this),this.reset(!0)}function values(iterable){if(iterable){var iteratorMethod=iterable[iteratorSymbol];if(iteratorMethod)return iteratorMethod.call(iterable);if("function"==typeof iterable.next)return iterable;if(!isNaN(iterable.length)){var i=-1,next=function next(){for(;++i<iterable.length;)if(hasOwn.call(iterable,i))return next.value=iterable[i],next.done=!1,next;return next.value=void 0,next.done=!0,next};return next.next=next}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,define(Gp,"constructor",GeneratorFunctionPrototype),define(GeneratorFunctionPrototype,"constructor",GeneratorFunction),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,toStringTagSymbol,"GeneratorFunction"),exports.isGeneratorFunction=function(genFun){var ctor="function"==typeof genFun&&genFun.constructor;return!!ctor&&(ctor===GeneratorFunction||"GeneratorFunction"===(ctor.displayName||ctor.name))},exports.mark=function(genFun){return Object.setPrototypeOf?Object.setPrototypeOf(genFun,GeneratorFunctionPrototype):(genFun.__proto__=GeneratorFunctionPrototype,define(genFun,toStringTagSymbol,"GeneratorFunction")),genFun.prototype=Object.create(Gp),genFun},exports.awrap=function(arg){return{__await:arg}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,asyncIteratorSymbol,(function(){return this})),exports.AsyncIterator=AsyncIterator,exports.async=function(innerFn,outerFn,self,tryLocsList,PromiseImpl){void 0===PromiseImpl&&(PromiseImpl=Promise);var iter=new AsyncIterator(wrap(innerFn,outerFn,self,tryLocsList),PromiseImpl);return exports.isGeneratorFunction(outerFn)?iter:iter.next().then((function(result){return result.done?result.value:iter.next()}))},defineIteratorMethods(Gp),define(Gp,toStringTagSymbol,"Generator"),define(Gp,iteratorSymbol,(function(){return this})),define(Gp,"toString",(function(){return"[object Generator]"})),exports.keys=function(object){var keys=[];for(var key in object)keys.push(key);return keys.reverse(),function next(){for(;keys.length;){var key=keys.pop();if(key in object)return next.value=key,next.done=!1,next}return next.done=!0,next}},exports.values=values,Context.prototype={constructor:Context,reset:function reset(skipTempReset){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!skipTempReset)for(var name in this)"t"===name.charAt(0)&&hasOwn.call(this,name)&&!isNaN(+name.slice(1))&&(this[name]=void 0)},stop:function stop(){this.done=!0;var rootRecord=this.tryEntries[0].completion;if("throw"===rootRecord.type)throw rootRecord.arg;return this.rval},dispatchException:function dispatchException(exception){if(this.done)throw exception;var context=this;function handle(loc,caught){return record.type="throw",record.arg=exception,context.next=loc,caught&&(context.method="next",context.arg=void 0),!!caught}for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i],record=entry.completion;if("root"===entry.tryLoc)return handle("end");if(entry.tryLoc<=this.prev){var hasCatch=hasOwn.call(entry,"catchLoc"),hasFinally=hasOwn.call(entry,"finallyLoc");if(hasCatch&&hasFinally){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0);if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}else if(hasCatch){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0)}else{if(!hasFinally)throw new Error("try statement without catch or finally");if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}}}},abrupt:function abrupt(type,arg){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc<=this.prev&&hasOwn.call(entry,"finallyLoc")&&this.prev<entry.finallyLoc){var finallyEntry=entry;break}}finallyEntry&&("break"===type||"continue"===type)&&finallyEntry.tryLoc<=arg&&arg<=finallyEntry.finallyLoc&&(finallyEntry=null);var record=finallyEntry?finallyEntry.completion:{};return record.type=type,record.arg=arg,finallyEntry?(this.method="next",this.next=finallyEntry.finallyLoc,ContinueSentinel):this.complete(record)},complete:function complete(record,afterLoc){if("throw"===record.type)throw record.arg;return"break"===record.type||"continue"===record.type?this.next=record.arg:"return"===record.type?(this.rval=this.arg=record.arg,this.method="return",this.next="end"):"normal"===record.type&&afterLoc&&(this.next=afterLoc),ContinueSentinel},finish:function finish(finallyLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.finallyLoc===finallyLoc)return this.complete(entry.completion,entry.afterLoc),resetTryEntry(entry),ContinueSentinel}},catch:function _catch(tryLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc===tryLoc){var record=entry.completion;if("throw"===record.type){var thrown=record.arg;resetTryEntry(entry)}return thrown}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(iterable,resultName,nextLoc){return this.delegate={iterator:values(iterable),resultName:resultName,nextLoc:nextLoc},"next"===this.method&&(this.arg=void 0),ContinueSentinel}},exports}function SortableContainer_createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=SortableContainer_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e2){throw _e2},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=it.call(o)},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e3){didErr=!0,err=_e3},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function SortableContainer_slicedToArray(arr,i){return function SortableContainer_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function SortableContainer_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||SortableContainer_unsupportedIterableToArray(arr,i)||function SortableContainer_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function SortableContainer_unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return SortableContainer_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?SortableContainer_arrayLikeToArray(o,minLen):void 0}}function SortableContainer_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function SortableContainer(props,externalRef){var mode=props.mode,onDrop=props.onDrop,allowDrop=props.allowDrop,tag=props.tag,className=props.className,style=props.style,children=props.children,accept=props.accept,layout=props.layout,direction=props.direction,dispatch=useSortableDispatch(),events=useEventManager(),id=useSortableSelector((function(state){return state.id})),items=useSortableSelector((function(state){return state.items})),moving=useSortableSelector((function(state){return state.moving})),activeIds=useSortableSelector((function(state){return state.activeIds})),lastLog=SortableContainer_slicedToArray(useSortableSelector((function(state){return state.logs.slice(-1)})),1)[0],pendingUpdateFn=Object(react.useRef)(),requestedFrame=Object(react.useRef)(),prevMoveData=Object(react.useRef)(["","",1]),temp=Object(react.useRef)({id:id,items:items,lastLog:lastLog,activities:[]}),throttled=Object(react.useRef)(throttle_default()(function(){var _ref=_asyncToGenerator(_regeneratorRuntime().mark((function _callee(item,monitor){var _temp$current,isOverCurrent,activities,clientOffset,moveItem,itemRect,moveItemRect,_iterator,_step,_ref$current,data,coord,relation;return _regeneratorRuntime().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(_temp$current=temp.current,isOverCurrent=_temp$current.isOverCurrent,activities=_temp$current.activities,isOverCurrent){_context.next=3;break}return _context.abrupt("return");case 3:if(clientOffset=monitor.getSourceClientOffset()){_context.next=6;break}return _context.abrupt("return");case 6:if(moveItem=activities.find((function(data){return data.id===item.id})),(itemRect=(null==moveItem?void 0:moveItem._rect)||item._rect)&&item._rect){_context.next=10;break}return _context.abrupt("return");case 10:moveItemRect=getMonitorCoord(ref,itemRect,clientOffset),_iterator=SortableContainer_createForOfIteratorHelper(activities),_context.prev=12,_iterator.s();case 14:if((_step=_iterator.n()).done){_context.next=52;break}if(data=_step.value,(null==moveItem?void 0:moveItem.id)!=data.id){_context.next=18;break}return _context.abrupt("continue",50);case 18:if(null!==(_ref$current=ref.current)&&void 0!==_ref$current&&_ref$current.getBoundingClientRect()||data._rect){_context.next=20;break}return _context.abrupt("continue",50);case 20:coord=void 0,_context.prev=21,coord=getItemCoord(ref,data),_context.next=28;break;case 25:return _context.prev=25,_context.t0=_context.catch(21),_context.abrupt("continue",50);case 28:if(relation=coord.compare(moveItemRect,layout,direction),isNaN(relation)){_context.next=50;break}if("wysiwyg"!=mode){_context.next=38;break}if(item.id!=data.id){_context.next=33;break}return _context.abrupt("continue",50);case 33:if(!allowDrop||allowDrop({node:data,dragNode:item,dropPosition:relation})){_context.next=35;break}return _context.abrupt("continue",50);case 35:return _context.abrupt("return",move(item.id,data.id,relation));case 38:if(item.id!=data.id){_context.next=42;break}return events.emit(SortableActionType.indicator,{id:data.id,position:NaN}),temp.current.node=void 0,_context.abrupt("continue",50);case 42:if(!allowDrop||allowDrop({node:data,dragNode:item,dropPosition:relation})){_context.next=47;break}return events.emit(SortableActionType.indicator,{id:data.id,position:NaN}),temp.current.node=void 0,console.error("now allowDrop",ref.current,data._rect),_context.abrupt("continue",50);case 47:temp.current.node=data,temp.current.dropPosition=relation,events.emit(SortableActionType.indicator,{id:data.id,position:relation});case 50:_context.next=14;break;case 52:_context.next=57;break;case 54:_context.prev=54,_context.t1=_context.catch(12),_iterator.e(_context.t1);case 57:return _context.prev=57,_iterator.f(),_context.finish(57);case 60:case"end":return _context.stop()}}),_callee,null,[[12,54,57,60],[21,25]])})));return function(_x,_x2){return _ref.apply(this,arguments)}}(),60)),resetMoveData=Object(react.useCallback)((function(){prevMoveData.current=["","",1]}),[]),move=Object(react.useCallback)((function(source,target,relation){if(!isEqual_default()(prevMoveData.current,[source,target,relation])){var _temp$current2=temp.current,items=_temp$current2.items,lastLog=_temp$current2.lastLog,moving=_temp$current2.moving,sourceIndex=findInnerIndex(source,items),targetIndex=findInnerIndex(target,items);if(sourceIndex!=targetIndex&&-1!=targetIndex&&-1!=targetIndex&&!(moving&&lastLog&&targetIndex>=Math.min(lastLog.sourceIndex,lastLog.targetIndex)&&targetIndex<=Math.max(lastLog.sourceIndex,lastLog.targetIndex))){var action={type:SortableActionType.move,payload:{source:source,target:target,relation:relation}};scheduleUpdate(action),prevMoveData.current=[source,target,relation]}}}),[]);Object(react.useEffect)((function(){return function(){void 0!==requestedFrame.current&&cancelAnimationFrame(requestedFrame.current)}}),[]);var scheduleUpdate=Object(react.useCallback)(function(){var _ref2=_asyncToGenerator(_regeneratorRuntime().mark((function _callee2(updateFn){return _regeneratorRuntime().wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:pendingUpdateFn.current=updateFn,requestedFrame.current||(requestedFrame.current=requestAnimationFrame(drawFrame));case 2:case"end":return _context2.stop()}}),_callee2)})));return function(_x3){return _ref2.apply(this,arguments)}}(),[]),drawFrame=Object(react.useCallback)((function(){dispatch(pendingUpdateFn.current),pendingUpdateFn.current=void 0,requestedFrame.current=void 0}),[]),moveOut=Object(react.useCallback)((function(item){events.emit(SortableActionType.moveOut,{item:item}),resetMoveData()}),[]),moveIn=Object(react.useCallback)((function(index,item){var id=temp.current.id;events.emit(SortableActionType.moveIn,{insertIndex:index,item:item,target:id,source:item._sortable}),resetMoveData()}),[]),buildExternalRef=function buildExternalRef(ref){return"function"==typeof externalRef?externalRef(ref):ref},ref=Object(react.useRef)(null),_useDrop=Object(useDrop.a)({accept:accept,drop:function drop(item){if(isOverCurrent)return events.emit(SortableActionType.drop,{item:item,target:id,source:item._originalSortable}),onDrop&&temp.current.node&&(onDrop({node:temp.current.node,dragNode:item,dropPosition:temp.current.dropPosition}),events.emit(SortableActionType.indicator,{id:temp.current.node,position:NaN}),temp.current.node=void 0),{type:"sort",sortable:id,id:item.id}},collect:function collect(monitor){return{item:monitor.getItem(),isOver:monitor.isOver(),isOverCurrent:monitor.isOver({shallow:!0}),canDrop:monitor.canDrop(),monitor:monitor}},hover:throttled.current}),_useDrop2=SortableContainer_slicedToArray(_useDrop,2),_useDrop2$=_useDrop2[0],item=_useDrop2$.item,isOverCurrent=_useDrop2$.isOverCurrent,canDrop=_useDrop2$.canDrop,monitor=_useDrop2$.monitor,drop=_useDrop2[1];temp.current.lastLog=lastLog,temp.current.id=id,temp.current.item=item,temp.current.monitor=monitor,temp.current.items=items,temp.current.moving=moving,temp.current.isOverCurrent=isOverCurrent,temp.current.activities=Object(react.useMemo)((function(){return items.filter((function(item){return activeIds.includes(item.id)}))}),[activeIds,items]),Object(react.useEffect)((function(){var _item$_originalSortab;if("wysiwyg"==mode){var _temp$current3=temp.current,item=_temp$current3.item,id=_temp$current3.id,monitor=_temp$current3.monitor,items=_temp$current3.items;if(item&&canDrop&&monitor&&(!isOverCurrent||id!==item._sortable)){var rootId=SortableContainer_slicedToArray(id.split("/"),1)[0];if(isOverCurrent){var insertIndex=function getInsertIndex(item,monitor,items,ref,layout,direction){var clientOffset=monitor.getSourceClientOffset();if(!clientOffset)return-1;var moveItem=getMonitorCoord(ref,item._rect||DEFAULT_RECT,clientOffset),addition=0;return items.findIndex((function(data){var relation=getItemCoord(ref,data).compare(moveItem,layout,direction);return!isNaN(relation)&&(relation>0&&(addition=1),!0)}))+addition}(item,monitor,items,ref,layout,direction);item._originalSortable||(item._registered=id),moveIn(insertIndex,item)}else(item._originalSortable||item._registered!=id)&&(null!==(_item$_originalSortab=item._originalSortable)&&void 0!==_item$_originalSortab&&_item$_originalSortab.startsWith(rootId)||item._sortable!=rootId||rootId!=id)||moveOut(item)}}}),[isOverCurrent]);var backgroundColor=void 0;return canDrop&&(backgroundColor="rgba(68, 171, 255, 0.05)"),Object(react_is.isElement)(tag)?react_default.a.cloneElement(tag,{ref:drop(buildExternalRef(ref)),children:children,className:classnames_default()(className),style:Object.assign({},style,{backgroundColor:backgroundColor})}):react_default.a.createElement(tag,{ref:drop(buildExternalRef(ref)),children:children,className:classnames_default()(className),style:Object.assign({},style,{backgroundColor:backgroundColor})})}var src_SortableContainer=react_default.a.forwardRef(SortableContainer);try{SortableContainer.displayName="SortableContainer",SortableContainer.__docgenInfo={description:"",displayName:"SortableContainer",props:{mode:{defaultValue:null,description:"",name:"mode",required:!0,type:{name:"enum",value:[{value:'"wysiwyg"'},{value:'"indicator"'}]}},accept:{defaultValue:null,description:"",name:"accept",required:!0,type:{name:"string[]"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},tag:{defaultValue:null,description:"",name:"tag",required:!0,type:{name:"SortableTag"}},direction:{defaultValue:null,description:"",name:"direction",required:!0,type:{name:"enum",value:[{value:'"horizontal"'},{value:'"vertical"'}]}},layout:{defaultValue:null,description:"",name:"layout",required:!0,type:{name:"enum",value:[{value:'"list"'},{value:'"grid"'}]}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},removable:{defaultValue:null,description:"",name:"removable",required:!1,type:{name:"boolean"}},onDrop:{defaultValue:null,description:"",name:"onDrop",required:!1,type:{name:"OnDrop"}},allowDrop:{defaultValue:null,description:"",name:"allowDrop",required:!1,type:{name:"AllowDropFunc"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/SortableContainer.tsx#SortableContainer"]={docgenInfo:SortableContainer.__docgenInfo,name:"SortableContainer",path:"src/SortableContainer.tsx#SortableContainer"})}catch(__react_docgen_typescript_loader_error){}var useDrag=__webpack_require__("./node_modules/react-dnd/dist/hooks/useDrag/useDrag.js"),getEmptyImage=__webpack_require__("./node_modules/react-dnd-html5-backend/dist/getEmptyImage.js"),useSortItem_excluded=["_rect","_sortable","_originalSortable"];function useSortItem_objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function useSortItem_objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function useSortItem_regeneratorRuntime(){useSortItem_regeneratorRuntime=function _regeneratorRuntime(){return exports};var exports={},Op=Object.prototype,hasOwn=Op.hasOwnProperty,$Symbol="function"==typeof Symbol?Symbol:{},iteratorSymbol=$Symbol.iterator||"@@iterator",asyncIteratorSymbol=$Symbol.asyncIterator||"@@asyncIterator",toStringTagSymbol=$Symbol.toStringTag||"@@toStringTag";function define(obj,key,value){return Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}),obj[key]}try{define({},"")}catch(err){define=function define(obj,key,value){return obj[key]=value}}function wrap(innerFn,outerFn,self,tryLocsList){var protoGenerator=outerFn&&outerFn.prototype instanceof Generator?outerFn:Generator,generator=Object.create(protoGenerator.prototype),context=new Context(tryLocsList||[]);return generator._invoke=function(innerFn,self,context){var state="suspendedStart";return function(method,arg){if("executing"===state)throw new Error("Generator is already running");if("completed"===state){if("throw"===method)throw arg;return doneResult()}for(context.method=method,context.arg=arg;;){var delegate=context.delegate;if(delegate){var delegateResult=maybeInvokeDelegate(delegate,context);if(delegateResult){if(delegateResult===ContinueSentinel)continue;return delegateResult}}if("next"===context.method)context.sent=context._sent=context.arg;else if("throw"===context.method){if("suspendedStart"===state)throw state="completed",context.arg;context.dispatchException(context.arg)}else"return"===context.method&&context.abrupt("return",context.arg);state="executing";var record=tryCatch(innerFn,self,context);if("normal"===record.type){if(state=context.done?"completed":"suspendedYield",record.arg===ContinueSentinel)continue;return{value:record.arg,done:context.done}}"throw"===record.type&&(state="completed",context.method="throw",context.arg=record.arg)}}}(innerFn,self,context),generator}function tryCatch(fn,obj,arg){try{return{type:"normal",arg:fn.call(obj,arg)}}catch(err){return{type:"throw",arg:err}}}exports.wrap=wrap;var ContinueSentinel={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var IteratorPrototype={};define(IteratorPrototype,iteratorSymbol,(function(){return this}));var getProto=Object.getPrototypeOf,NativeIteratorPrototype=getProto&&getProto(getProto(values([])));NativeIteratorPrototype&&NativeIteratorPrototype!==Op&&hasOwn.call(NativeIteratorPrototype,iteratorSymbol)&&(IteratorPrototype=NativeIteratorPrototype);var Gp=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(IteratorPrototype);function defineIteratorMethods(prototype){["next","throw","return"].forEach((function(method){define(prototype,method,(function(arg){return this._invoke(method,arg)}))}))}function AsyncIterator(generator,PromiseImpl){function invoke(method,arg,resolve,reject){var record=tryCatch(generator[method],generator,arg);if("throw"!==record.type){var result=record.arg,value=result.value;return value&&"object"==typeof value&&hasOwn.call(value,"__await")?PromiseImpl.resolve(value.__await).then((function(value){invoke("next",value,resolve,reject)}),(function(err){invoke("throw",err,resolve,reject)})):PromiseImpl.resolve(value).then((function(unwrapped){result.value=unwrapped,resolve(result)}),(function(error){return invoke("throw",error,resolve,reject)}))}reject(record.arg)}var previousPromise;this._invoke=function(method,arg){function callInvokeWithMethodAndArg(){return new PromiseImpl((function(resolve,reject){invoke(method,arg,resolve,reject)}))}return previousPromise=previousPromise?previousPromise.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(delegate,context){var method=delegate.iterator[context.method];if(void 0===method){if(context.delegate=null,"throw"===context.method){if(delegate.iterator.return&&(context.method="return",context.arg=void 0,maybeInvokeDelegate(delegate,context),"throw"===context.method))return ContinueSentinel;context.method="throw",context.arg=new TypeError("The iterator does not provide a 'throw' method")}return ContinueSentinel}var record=tryCatch(method,delegate.iterator,context.arg);if("throw"===record.type)return context.method="throw",context.arg=record.arg,context.delegate=null,ContinueSentinel;var info=record.arg;return info?info.done?(context[delegate.resultName]=info.value,context.next=delegate.nextLoc,"return"!==context.method&&(context.method="next",context.arg=void 0),context.delegate=null,ContinueSentinel):info:(context.method="throw",context.arg=new TypeError("iterator result is not an object"),context.delegate=null,ContinueSentinel)}function pushTryEntry(locs){var entry={tryLoc:locs[0]};1 in locs&&(entry.catchLoc=locs[1]),2 in locs&&(entry.finallyLoc=locs[2],entry.afterLoc=locs[3]),this.tryEntries.push(entry)}function resetTryEntry(entry){var record=entry.completion||{};record.type="normal",delete record.arg,entry.completion=record}function Context(tryLocsList){this.tryEntries=[{tryLoc:"root"}],tryLocsList.forEach(pushTryEntry,this),this.reset(!0)}function values(iterable){if(iterable){var iteratorMethod=iterable[iteratorSymbol];if(iteratorMethod)return iteratorMethod.call(iterable);if("function"==typeof iterable.next)return iterable;if(!isNaN(iterable.length)){var i=-1,next=function next(){for(;++i<iterable.length;)if(hasOwn.call(iterable,i))return next.value=iterable[i],next.done=!1,next;return next.value=void 0,next.done=!0,next};return next.next=next}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,define(Gp,"constructor",GeneratorFunctionPrototype),define(GeneratorFunctionPrototype,"constructor",GeneratorFunction),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,toStringTagSymbol,"GeneratorFunction"),exports.isGeneratorFunction=function(genFun){var ctor="function"==typeof genFun&&genFun.constructor;return!!ctor&&(ctor===GeneratorFunction||"GeneratorFunction"===(ctor.displayName||ctor.name))},exports.mark=function(genFun){return Object.setPrototypeOf?Object.setPrototypeOf(genFun,GeneratorFunctionPrototype):(genFun.__proto__=GeneratorFunctionPrototype,define(genFun,toStringTagSymbol,"GeneratorFunction")),genFun.prototype=Object.create(Gp),genFun},exports.awrap=function(arg){return{__await:arg}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,asyncIteratorSymbol,(function(){return this})),exports.AsyncIterator=AsyncIterator,exports.async=function(innerFn,outerFn,self,tryLocsList,PromiseImpl){void 0===PromiseImpl&&(PromiseImpl=Promise);var iter=new AsyncIterator(wrap(innerFn,outerFn,self,tryLocsList),PromiseImpl);return exports.isGeneratorFunction(outerFn)?iter:iter.next().then((function(result){return result.done?result.value:iter.next()}))},defineIteratorMethods(Gp),define(Gp,toStringTagSymbol,"Generator"),define(Gp,iteratorSymbol,(function(){return this})),define(Gp,"toString",(function(){return"[object Generator]"})),exports.keys=function(object){var keys=[];for(var key in object)keys.push(key);return keys.reverse(),function next(){for(;keys.length;){var key=keys.pop();if(key in object)return next.value=key,next.done=!1,next}return next.done=!0,next}},exports.values=values,Context.prototype={constructor:Context,reset:function reset(skipTempReset){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!skipTempReset)for(var name in this)"t"===name.charAt(0)&&hasOwn.call(this,name)&&!isNaN(+name.slice(1))&&(this[name]=void 0)},stop:function stop(){this.done=!0;var rootRecord=this.tryEntries[0].completion;if("throw"===rootRecord.type)throw rootRecord.arg;return this.rval},dispatchException:function dispatchException(exception){if(this.done)throw exception;var context=this;function handle(loc,caught){return record.type="throw",record.arg=exception,context.next=loc,caught&&(context.method="next",context.arg=void 0),!!caught}for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i],record=entry.completion;if("root"===entry.tryLoc)return handle("end");if(entry.tryLoc<=this.prev){var hasCatch=hasOwn.call(entry,"catchLoc"),hasFinally=hasOwn.call(entry,"finallyLoc");if(hasCatch&&hasFinally){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0);if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}else if(hasCatch){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0)}else{if(!hasFinally)throw new Error("try statement without catch or finally");if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}}}},abrupt:function abrupt(type,arg){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc<=this.prev&&hasOwn.call(entry,"finallyLoc")&&this.prev<entry.finallyLoc){var finallyEntry=entry;break}}finallyEntry&&("break"===type||"continue"===type)&&finallyEntry.tryLoc<=arg&&arg<=finallyEntry.finallyLoc&&(finallyEntry=null);var record=finallyEntry?finallyEntry.completion:{};return record.type=type,record.arg=arg,finallyEntry?(this.method="next",this.next=finallyEntry.finallyLoc,ContinueSentinel):this.complete(record)},complete:function complete(record,afterLoc){if("throw"===record.type)throw record.arg;return"break"===record.type||"continue"===record.type?this.next=record.arg:"return"===record.type?(this.rval=this.arg=record.arg,this.method="return",this.next="end"):"normal"===record.type&&afterLoc&&(this.next=afterLoc),ContinueSentinel},finish:function finish(finallyLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.finallyLoc===finallyLoc)return this.complete(entry.completion,entry.afterLoc),resetTryEntry(entry),ContinueSentinel}},catch:function _catch(tryLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc===tryLoc){var record=entry.completion;if("throw"===record.type){var thrown=record.arg;resetTryEntry(entry)}return thrown}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(iterable,resultName,nextLoc){return this.delegate={iterator:values(iterable),resultName:resultName,nextLoc:nextLoc},"next"===this.method&&(this.arg=void 0),ContinueSentinel}},exports}function useSortItem_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function useSortItem_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){useSortItem_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){useSortItem_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function useSortItem_slicedToArray(arr,i){return function useSortItem_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function useSortItem_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function useSortItem_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return useSortItem_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return useSortItem_arrayLikeToArray(o,minLen)}(arr,i)||function useSortItem_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function useSortItem_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var hooks_useSortItem=function useSortItem(){var type=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"sortable-card",data=arguments.length>1?arguments[1]:void 0,options=arguments.length>2?arguments[2]:void 0,_ref=options||{},draggable=_ref.draggable,dispatch=useSortableDispatch(),events=useEventManager(),sortableId=useSortableSelector((function(state){return state.id})),preview=useSortableSelector((function(state){return state.preview})),dragging=useSortableSelector((function(state){return state.dragging})),dataRef=Object(react.useRef)(data),stateRef=Object(react.useRef)({indicator:NaN}),_useReducer=Object(react.useReducer)((function(s){return s+1}),0),_useReducer2=useSortItem_slicedToArray(_useReducer,2),forceRender=_useReducer2[1],clicked=Object(react.useRef)(!1),setClicked=Object(react.useCallback)((function(b){clicked.current=b,forceRender()}),[]),ref=Object(react.useRef)(null),handleDragend=Object(react.useCallback)(useSortItem_asyncToGenerator(useSortItem_regeneratorRuntime().mark((function _callee(){var evObj,i;return useSortItem_regeneratorRuntime().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:(evObj=document.createEvent("MouseEvents")).initMouseEvent("mousemove",!0,!0,window,1,12,345,7,220,!1,!1,!0,!1,0,null),i=0;case 3:if(!(i<10)){_context.next=10;break}return _context.next=6,sleep(50);case 6:document.dispatchEvent(evObj);case 7:i++,_context.next=3;break;case 10:case"end":return _context.stop()}}),_callee)}))),[]),handleIndicator=Object(react.useCallback)((function(_ref3){var id=_ref3.id,position=_ref3.position;dataRef.current.id==id?(stateRef.current.indicator=position,forceRender()):isNaN(stateRef.current.indicator)||(stateRef.current.indicator=NaN,forceRender())}),[]),handleMouseDown=Object(react.useCallback)((function(){handleCanDrag("拖拽检测")&&setClicked(!0)}),[]),handleMouseUp=Object(react.useCallback)((function(){return setClicked(!1)}),[]);Object(react.useEffect)((function(){var el=ref.current;if(el)return events.on(SortableActionType.indicator,handleIndicator),el.addEventListener("mousedown",handleMouseDown),el.addEventListener("mouseup",handleMouseUp),el.addEventListener("dragend",handleDragend),function(){events.off(SortableActionType.indicator,handleIndicator),el.removeEventListener("mouseDown",handleMouseDown),el.removeEventListener("mouseUp",handleMouseUp),el.removeEventListener("dragend",handleDragend)}}),[ref.current]),Object(react.useEffect)((function(){dispatch({type:SortableActionType.register,payload:{id:data.id,get _rect(){var _ref$current;return null===(_ref$current=ref.current)||void 0===_ref$current?void 0:_ref$current.getBoundingClientRect()}}})}),[null==options?void 0:options.index]);var handleCanDrag=Object(react.useCallback)((function(monitor){return"function"==typeof draggable?draggable(dataRef.current,monitor):!!draggable}),[draggable]),_useDrag=Object(useDrag.a)({type:type,collect:function collect(monitor){var item=monitor.getItem();return{isDragging:monitor.isDragging()||(null==item?void 0:item.id)===data.id}},canDrag:handleCanDrag,item:function item(){return dataRef.current=Object.assign({},data,{deleteable:"boolean"!=typeof data.deleteable||data.deleteable,_originalSortable:sortableId,_sortable:sortableId,get _rect(){var _ref$current2;return null==ref||null===(_ref$current2=ref.current)||void 0===_ref$current2?void 0:_ref$current2.getBoundingClientRect()}})},end:function end(item,monitor){clicked.current=!1;var result=monitor.getDropResult();if("sort"!==(null==result?void 0:result.type)){if("dustbin"===(null==result?void 0:result.type))return events.emit(SortableActionType.remove,{item:item,target:item._sortable,source:item._originalSortable}),void events.emit(SortableActionType.drop,{item:item,target:null,source:item._originalSortable});events.emit(SortableActionType.indicator,{id:item,position:NaN}),events.emit(SortableActionType.reset,{item:item,target:item._sortable,source:item._originalSortable})}}}),_useDrag2=useSortItem_slicedToArray(_useDrag,3),isDragging=_useDrag2[0].isDragging,drag=_useDrag2[1],connectDrag=_useDrag2[2];Object(react.useEffect)((function(){preview?connectDrag(Object(getEmptyImage.a)(),{captureDraggingState:!0}):connectDrag(ref)}),[preview]),Object(react.useEffect)((function(){isDragging&&!dragging&&events.emit(SortableActionType.dragging,dataRef.current)}),[isDragging]);var handleUpdate=Object(react.useCallback)((function(_ref4){_ref4._rect;var _sortable=_ref4._sortable,_originalSortable=_ref4._originalSortable,item=useSortItem_objectWithoutProperties(_ref4,useSortItem_excluded);utils_assign(dataRef.current,item),events.emit(SortableActionType.update,{item:item,target:_sortable,source:_originalSortable})}),[]),handleRemove=Object(react.useCallback)((function(){var item=Object.assign({},data,{_originalSortable:sortableId,_sortable:sortableId});events.emit(SortableActionType.remove,{item:item,target:sortableId,source:sortableId})}),[sortableId]);return[{clicked:clicked.current,isDragging:isDragging,update:handleUpdate,remove:handleRemove,style:{},indicator:stateRef.current.indicator,className:classnames_default()("sortable-item",{"sortable-item-dragging":isDragging})},ref,drag]},SortItem_excluded=["index","data","itemRender","className","draggable","style","preview"];function SortItem_slicedToArray(arr,i){return function SortItem_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function SortItem_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function SortItem_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return SortItem_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SortItem_arrayLikeToArray(o,minLen)}(arr,i)||function SortItem_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function SortItem_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function SortItem_objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function SortItem_objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function SortItem(_ref){var index=_ref.index,data=_ref.data,itemRender=_ref.itemRender,className=_ref.className,draggable=_ref.draggable,style=_ref.style,props=(_ref.preview,SortItem_objectWithoutProperties(_ref,SortItem_excluded)),_useReducer2=SortItem_slicedToArray(Object(react.useReducer)((function(s){return s+1}),0),2),version=_useReducer2[0],forceRender=_useReducer2[1],events=useEventManager(),io=useSortableSelector((function(state){return state.io})),level=useSortableSelector((function(state){return state.id.split("/").length})),visibled=useSortableSelector((function(state){return state.activeIds.includes(data.id)})),_useSortItem2=SortItem_slicedToArray(hooks_useSortItem(data.type,data,{index:index,draggable:draggable}),3),_useSortItem2$=_useSortItem2[0],aste=_useSortItem2$.style,acn=_useSortItem2$.className,remove=_useSortItem2$.remove,update=_useSortItem2$.update,isDragging=_useSortItem2$.isDragging,clicked=_useSortItem2$.clicked,indicator=_useSortItem2$.indicator,ref=_useSortItem2[1],drag=_useSortItem2[2],animated=injectAnime(props),styleMerged=Object(react.useMemo)((function(){return Object.assign({},style,aste)}),[style,aste]),classNameMerged=Object(react.useMemo)((function(){return classnames_default()(className,acn)}),[className,acn]),animatedMerged=Object(react.useMemo)((function(){return animated}),[animated.key]);return Object(react.useEffect)((function(){var el=ref.current;return el.dataset.id=data.id,io.observe(el),function(){io.unobserve(el)}}),[io]),Object(react.useEffect)((function(){if(visibled)return events.on("ITEMRENDER_RERENDER",forceRender),function(){events.off("ITEMRENDER_RERENDER",forceRender)}}),[visibled]),react_default.a.useMemo((function(){var props={dragging:isDragging,animated:animatedMerged,className:classNameMerged,style:styleMerged,data:data,level:level,index:index,remove:remove,update:update,indicator:indicator,drag:drag};return"function"==typeof itemRender?itemRender(props,ref):(props.ref=ref,react_default.a.createElement(itemRender,props))}),[version,level,styleMerged,classNameMerged,animatedMerged,data,clicked,isDragging,indicator])}var src_SortItem=react_default.a.memo(SortItem);try{SortItem.displayName="SortItem",SortItem.__docgenInfo={description:"",displayName:"SortItem",props:{index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"number"}},data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"ISortableItem"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},draggable:{defaultValue:null,description:"",name:"draggable",required:!0,type:{name:"DragCondition"}},preview:{defaultValue:null,description:"",name:"preview",required:!1,type:{name:"boolean"}},itemRender:{defaultValue:null,description:"",name:"itemRender",required:!0,type:{name:"SortableItemContentRender<T>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/SortItem.tsx#SortItem"]={docgenInfo:SortItem.__docgenInfo,name:"SortItem",path:"src/SortItem.tsx#SortItem"})}catch(__react_docgen_typescript_loader_error){}var useDragLayer=__webpack_require__("./node_modules/react-dnd/dist/hooks/useDragLayer.js");function SortableDragLayer_slicedToArray(arr,i){return function SortableDragLayer_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function SortableDragLayer_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function SortableDragLayer_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return SortableDragLayer_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SortableDragLayer_arrayLikeToArray(o,minLen)}(arr,i)||function SortableDragLayer_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function SortableDragLayer_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var layerStyles={position:"fixed",pointerEvents:"none",zIndex:100,left:0,top:0,width:"100%",height:"100%"};function getItemStyles(initialOffset,currentOffset,isSnapToGrid){if(!initialOffset||!currentOffset)return{display:"none"};var x=currentOffset.x,y=currentOffset.y;if(isSnapToGrid){var _snapToGrid2=SortableDragLayer_slicedToArray(function snapToGrid(x,y){return[32*Math.round(x/32),32*Math.round(y/32)]}(x-=initialOffset.x,y-=initialOffset.y),2);x=_snapToGrid2[0],y=_snapToGrid2[1],x+=initialOffset.x,y+=initialOffset.y}var transform="translate("+x+"px, "+y+"px)";return{transform:transform,WebkitTransform:transform}}var SortableDragLayer_SortableDragLayer=function SortableDragLayer(props){var _useDragLayer=Object(useDragLayer.a)((function(monitor){return{item:monitor.getItem(),itemType:monitor.getItemType(),initialOffset:monitor.getInitialSourceClientOffset(),currentOffset:monitor.getSourceClientOffset(),isDragging:monitor.isDragging()}})),isDragging=_useDragLayer.isDragging,item=_useDragLayer.item,itemType=_useDragLayer.itemType,initialOffset=_useDragLayer.initialOffset,currentOffset=_useDragLayer.currentOffset;return isDragging?Object(jsx_runtime.jsx)("div",{style:layerStyles,children:Object(jsx_runtime.jsx)("div",{style:getItemStyles(initialOffset,currentOffset,props.snapToGrid),children:props.render(item,itemType)})}):null};SortableDragLayer_SortableDragLayer.displayName="SortableDragLayer";var src_SortableDragLayer=SortableDragLayer_SortableDragLayer;try{SortableDragLayer_SortableDragLayer.displayName="SortableDragLayer",SortableDragLayer_SortableDragLayer.__docgenInfo={description:"",displayName:"SortableDragLayer",props:{render:{defaultValue:null,description:"",name:"render",required:!0,type:{name:"DragPreviewRenderer"}},snapToGrid:{defaultValue:null,description:"",name:"snapToGrid",required:!0,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/SortableDragLayer.tsx#SortableDragLayer"]={docgenInfo:SortableDragLayer_SortableDragLayer.__docgenInfo,name:"SortableDragLayer",path:"src/SortableDragLayer.tsx#SortableDragLayer"})}catch(__react_docgen_typescript_loader_error){}var Sortable_excluded=["empty","itemRender","onChange","draggable","preview"],Sortable_excluded2=["_originalSortable","_sortable","_rect"];function Sortable_objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function Sortable_objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function Sortable_slicedToArray(arr,i){return function Sortable_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function Sortable_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function Sortable_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return Sortable_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Sortable_arrayLikeToArray(o,minLen)}(arr,i)||function Sortable_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Sortable_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var defaultAccept=["sortable-card"];function Sortable(props,ref){var onChange=props.onChange,_props$pos=props.pos,pos=void 0===_props$pos?[]:_props$pos,_props$mode=props.mode,mode=void 0===_props$mode?"wysiwyg":_props$mode,_props$tag=props.tag,tag=void 0===_props$tag?"div":_props$tag,onDrop=props.onDrop,_props$draggable=props.draggable,draggable=void 0===_props$draggable||_props$draggable,allowDrop=props.allowDrop,className=props.className,_props$layout=props.layout,layout=void 0===_props$layout?"list":_props$layout,children=props.children,empty=props.empty,_props$accept=props.accept,accept=void 0===_props$accept?defaultAccept:_props$accept,propsItems=props.items,itemRender=props.itemRender,_props$rerender=props.rerender,rerender=void 0===_props$rerender?"function"==typeof itemRender:_props$rerender,style=props.style,preview=props.preview,_props$direction=props.direction,direction=void 0===_props$direction?"grid"==layout?"horizontal":"vertical":_props$direction,items=function buildItems(items,children){if(items)return items;for(var retItems=[],nodes=react_default.a.Children.toArray(children),i=0;i<nodes.length;i+=1){var props=nodes[i].props;retItems.push(Object.assign({},props.data))}return retItems}(propsItems,children),_useState=Object(react.useState)((function(){return function buildItemRender(itemRender,children){if(!(itemRender||children&&react_default.a.Children.count(children)))throw"Sortable 的 itemRender 及 children 不能同时为 NULL";if(itemRender)return itemRender;var tempNode=react_default.a.Children.toArray(children)[0];return function(props,ref){return react_default.a.cloneElement(tempNode,Object.assign({},props,{ref:ref}))}}(itemRender,children)})),innerItemRender=Sortable_slicedToArray(_useState,1)[0];return Object(jsx_runtime.jsx)(SortableProvider_SortableProvider,{preview:!!preview,rerender:rerender,items:items,pos:pos,deps:[layout,allowDrop,tag,direction,className,draggable],children:Object(jsx_runtime.jsx)(SortableCore,{tag:tag,ref:ref,empty:empty,mode:mode,className:classnames_default()("sortable-container","sortable-"+layout+"-"+direction,className),style:style,accept:accept,draggable:draggable,onDrop:onDrop,allowDrop:allowDrop,onChange:onChange,itemRender:innerItemRender,direction:direction,layout:layout,preview:preview})})}Sortable.displayName="Sortable";var SortableCore=react_default.a.forwardRef((function(_ref,ref){var empty=_ref.empty,itemRender=_ref.itemRender,onChange=_ref.onChange,draggable=_ref.draggable,preview=_ref.preview,props=Sortable_objectWithoutProperties(_ref,Sortable_excluded),items=useSortableSelector((function(state){return state.items})),id=useSortableSelector((function(state){return state.id})),temp=Object(react.useRef)({id:id,items:items}),events=useEventManager(),dispatch=useSortableDispatch();temp.current.id=id,temp.current.items=items;var handleChange=Object(react.useCallback)((function(event){var items=temp.current.items;onChange&&("remove"==event.type&&(items=items.filter((function(item){return item.id!=event.item.id}))),onChange(items.map((function(_ref2){_ref2._originalSortable,_ref2._sortable,_ref2._rect;return Sortable_objectWithoutProperties(_ref2,Sortable_excluded2)})),event))}),[]),handleMoveOut=Object(react.useCallback)((function(event){var id=temp.current.id,item=event.item;item._sortable==id&&(item._sortable=item._originalSortable,dispatch({type:SortableActionType.moveOut,payload:item}))}),[]),handleRemove=Object(react.useCallback)((function(event){var id=temp.current.id,item=event.item;item._originalSortable==id&&(dispatch({type:SortableActionType.remove,payload:item}),handleChange(Object.assign({},event,{type:typings_SortableChangeEventType.REMOVE}))),item._sortable==id&&item._originalSortable!==item._sortable&&handleReset()}),[]),handleMoveIn=Object(react.useCallback)((function(event){var id=temp.current.id,source=event.source,target=event.target;source==id?dispatch({type:SortableActionType.moveOut,payload:event.item}):target==id&&(event.item._sortable=id,dispatch({type:SortableActionType.moveIn,payload:{index:event.insertIndex,item:event.item}}))}),[]),handleDrop=Object(react.useCallback)((function(event){var id=temp.current.id,source=event.source,target=event.target;source==target&&source==id?handleChange(Object.assign({},event,{type:typings_SortableChangeEventType.SORT})):source==id&&target?handleChange(Object.assign({},event,{type:typings_SortableChangeEventType.DRAG})):target==id&&handleChange(Object.assign({},event,{type:typings_SortableChangeEventType.DROP})),dispatch({type:SortableActionType.drop})}),[]),handleDragging=Object(react.useCallback)((function(data){dispatch({type:SortableActionType.dragging,payload:data})}),[]),handleReset=Object(react.useCallback)((function(){dispatch({type:SortableActionType.reset})}),[]),handleUpdate=Object(react.useCallback)((function(data){temp.current.items.some((function(item){return item.id==data.item.id}))&&handleChange({item:data.item,type:typings_SortableChangeEventType.UPDATE})}),[]);Object(react.useEffect)((function(){return events.on(SortableActionType.drop,handleDrop),events.on(SortableActionType.reset,handleReset),events.on(SortableActionType.remove,handleRemove),events.on(SortableActionType.moveIn,handleMoveIn),events.on(SortableActionType.moveOut,handleMoveOut),events.on(SortableActionType.dragging,handleDragging),events.on(SortableActionType.update,handleUpdate),function(){events.off(SortableActionType.drop,handleDrop),events.off(SortableActionType.reset,handleReset),events.off(SortableActionType.remove,handleRemove),events.off(SortableActionType.moveIn,handleMoveIn),events.off(SortableActionType.moveOut,handleMoveOut),events.off(SortableActionType.dragging,handleDragging),events.off(SortableActionType.update,handleUpdate)}}),[]);var handleStart=Object(react.useCallback)((function(){dispatch({type:SortableActionType.moving,payload:!0})}),[]),handleComplete=Object(react.useCallback)((function(){dispatch({type:SortableActionType.moving,payload:!1})}),[]);return Object(jsx_runtime.jsxs)(src_SortableContainer,Object.assign({},props,{ref:ref,children:[Object(jsx_runtime.jsxs)(index_es.b,{className:"sortable-flipper",spring:{stiffness:987,damping:63},onStart:handleStart,onComplete:handleComplete,flipKey:items.map((function(item){return item.id})).join(","),children:[items.map((function(item,index){return Object(jsx_runtime.jsx)(index_es.a,{flipId:item.id,children:Object(jsx_runtime.jsx)(src_SortItem,{index:index,draggable:draggable,preview:!!preview,itemRender:itemRender,data:item},item.id)},item.id)})),!items.length&&empty]}),preview&&Object(jsx_runtime.jsx)(src_SortableDragLayer,{snapToGrid:!1,render:preview})]}))})),src_Sortable=react_default.a.forwardRef(Sortable);try{Sortable.displayName="Sortable",Sortable.__docgenInfo={description:"",displayName:"Sortable",props:{mode:{defaultValue:null,description:"",name:"mode",required:!1,type:{name:"enum",value:[{value:'"wysiwyg"'},{value:'"indicator"'}]}},direction:{defaultValue:null,description:"方向",name:"direction",required:!1,type:{name:"enum",value:[{value:'"horizontal"'},{value:'"vertical"'}]}},layout:{defaultValue:null,description:"布局",name:"layout",required:!1,type:{name:"enum",value:[{value:'"list"'},{value:'"grid"'}]}},accept:{defaultValue:null,description:"React-Dnd Drop 的 accept 默认为 sortable-card",name:"accept",required:!1,type:{name:"string[]"}},tag:{defaultValue:null,description:"Sortable 组件渲染的标签， 默认为： Div",name:"tag",required:!1,type:{name:"SortableTag"}},children:{defaultValue:null,description:"子元素",name:"children",required:!1,type:{name:"ReactNodeArray"}},className:{defaultValue:null,description:"CSS ClassName",name:"className",required:!1,type:{name:"string"}},empty:{defaultValue:null,description:"没有数据时的， 默认显示组件",name:"empty",required:!1,type:{name:"ReactElement<any, string | JSXElementConstructor<any>>"}},onChange:{defaultValue:null,description:"排序改变时触发，drop 及 remove 也会触发该函数",name:"onChange",required:!0,type:{name:"SortableChange"}},items:{defaultValue:null,description:"",name:"items",required:!1,type:{name:"T[]"}},itemRender:{defaultValue:null,description:"",name:"itemRender",required:!1,type:{name:"SortableItemContentRender<T>"}},rerender:{defaultValue:null,description:"父组件刷新时 itemRender 是否重新渲染\n默认: true",name:"rerender",required:!1,type:{name:"boolean"}},onDragover:{defaultValue:null,description:"元素移入\n@experimental",name:"onDragover",required:!1,type:{name:"((item: T) => void)"}},onDragout:{defaultValue:null,description:"元素移出\n@experimental",name:"onDragout",required:!1,type:{name:"((item: T) => void)"}},allowDrop:{defaultValue:null,description:"是否允许拖拽时放置在该节点",name:"allowDrop",required:!1,type:{name:"AllowDropFunc"}},draggable:{defaultValue:null,description:"是否可以拖拽",name:"draggable",required:!1,type:{name:"DragCondition"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},pos:{defaultValue:null,description:"位置, 用于嵌套定位",name:"pos",required:!1,type:{name:"number[]"}},onDrop:{defaultValue:null,description:"放置元素",name:"onDrop",required:!1,type:{name:"OnDrop"}},preview:{defaultValue:null,description:"自定义预览",name:"preview",required:!1,type:{name:"DragPreviewRenderer"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/Sortable.tsx#Sortable"]={docgenInfo:Sortable.__docgenInfo,name:"Sortable",path:"src/Sortable.tsx#Sortable"})}catch(__react_docgen_typescript_loader_error){}try{src.displayName="src",src.__docgenInfo={description:"",displayName:"src",props:{mode:{defaultValue:null,description:"",name:"mode",required:!1,type:{name:"enum",value:[{value:'"wysiwyg"'},{value:'"indicator"'}]}},direction:{defaultValue:null,description:"方向",name:"direction",required:!1,type:{name:"enum",value:[{value:'"horizontal"'},{value:'"vertical"'}]}},layout:{defaultValue:null,description:"布局",name:"layout",required:!1,type:{name:"enum",value:[{value:'"list"'},{value:'"grid"'}]}},accept:{defaultValue:null,description:"React-Dnd Drop 的 accept 默认为 sortable-card",name:"accept",required:!1,type:{name:"string[]"}},tag:{defaultValue:null,description:"Sortable 组件渲染的标签， 默认为： Div",name:"tag",required:!1,type:{name:"SortableTag"}},children:{defaultValue:null,description:"子元素",name:"children",required:!1,type:{name:"ReactNodeArray"}},className:{defaultValue:null,description:"CSS ClassName",name:"className",required:!1,type:{name:"string"}},empty:{defaultValue:null,description:"没有数据时的， 默认显示组件",name:"empty",required:!1,type:{name:"ReactElement<any, string | JSXElementConstructor<any>>"}},onChange:{defaultValue:null,description:"排序改变时触发，drop 及 remove 也会触发该函数",name:"onChange",required:!0,type:{name:"SortableChange"}},items:{defaultValue:null,description:"",name:"items",required:!1,type:{name:"ISortableItem[]"}},itemRender:{defaultValue:null,description:"",name:"itemRender",required:!1,type:{name:"SortableItemContentRender<ISortableItem>"}},rerender:{defaultValue:null,description:"父组件刷新时 itemRender 是否重新渲染\n默认: true",name:"rerender",required:!1,type:{name:"boolean"}},onDragover:{defaultValue:null,description:"元素移入\n@experimental",name:"onDragover",required:!1,type:{name:"((item: ISortableItem) => void)"}},onDragout:{defaultValue:null,description:"元素移出\n@experimental",name:"onDragout",required:!1,type:{name:"((item: ISortableItem) => void)"}},allowDrop:{defaultValue:null,description:"是否允许拖拽时放置在该节点",name:"allowDrop",required:!1,type:{name:"AllowDropFunc"}},draggable:{defaultValue:null,description:"是否可以拖拽",name:"draggable",required:!1,type:{name:"DragCondition"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},pos:{defaultValue:null,description:"位置, 用于嵌套定位",name:"pos",required:!1,type:{name:"number[]"}},onDrop:{defaultValue:null,description:"放置元素",name:"onDrop",required:!1,type:{name:"OnDrop"}},preview:{defaultValue:null,description:"自定义预览",name:"preview",required:!1,type:{name:"DragPreviewRenderer"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/index.tsx#src"]={docgenInfo:src.__docgenInfo,name:"src",path:"src/index.tsx#src"})}catch(__react_docgen_typescript_loader_error){}try{SortableChangeEventType.DROP.displayName="SortableChangeEventType.DROP",SortableChangeEventType.DROP.__docgenInfo={description:"移入",displayName:"SortableChangeEventType.DROP",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/index.tsx#SortableChangeEventType.DROP"]={docgenInfo:SortableChangeEventType.DROP.__docgenInfo,name:"SortableChangeEventType.DROP",path:"src/index.tsx#SortableChangeEventType.DROP"})}catch(__react_docgen_typescript_loader_error){}try{SortableChangeEventType.REMOVE.displayName="SortableChangeEventType.REMOVE",SortableChangeEventType.REMOVE.__docgenInfo={description:"删除",displayName:"SortableChangeEventType.REMOVE",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/index.tsx#SortableChangeEventType.REMOVE"]={docgenInfo:SortableChangeEventType.REMOVE.__docgenInfo,name:"SortableChangeEventType.REMOVE",path:"src/index.tsx#SortableChangeEventType.REMOVE"})}catch(__react_docgen_typescript_loader_error){}try{SortableChangeEventType.SORT.displayName="SortableChangeEventType.SORT",SortableChangeEventType.SORT.__docgenInfo={description:"排序",displayName:"SortableChangeEventType.SORT",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/index.tsx#SortableChangeEventType.SORT"]={docgenInfo:SortableChangeEventType.SORT.__docgenInfo,name:"SortableChangeEventType.SORT",path:"src/index.tsx#SortableChangeEventType.SORT"})}catch(__react_docgen_typescript_loader_error){}try{SortableChangeEventType.DRAG.displayName="SortableChangeEventType.DRAG",SortableChangeEventType.DRAG.__docgenInfo={description:"移出",displayName:"SortableChangeEventType.DRAG",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/index.tsx#SortableChangeEventType.DRAG"]={docgenInfo:SortableChangeEventType.DRAG.__docgenInfo,name:"SortableChangeEventType.DRAG",path:"src/index.tsx#SortableChangeEventType.DRAG"})}catch(__react_docgen_typescript_loader_error){}try{SortableChangeEventType.UPDATE.displayName="SortableChangeEventType.UPDATE",SortableChangeEventType.UPDATE.__docgenInfo={description:"更新",displayName:"SortableChangeEventType.UPDATE",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/index.tsx#SortableChangeEventType.UPDATE"]={docgenInfo:SortableChangeEventType.UPDATE.__docgenInfo,name:"SortableChangeEventType.UPDATE",path:"src/index.tsx#SortableChangeEventType.UPDATE"})}catch(__react_docgen_typescript_loader_error){}},"./src/style/index.less":function(module,exports,__webpack_require__){var api=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),content=__webpack_require__("./node_modules/css-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js!./src/style/index.less");"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},"./stories sync recursive ^\\.(?:(?:^|\\/|(?:(?:(?!(?:^|\\/)\\.).)*?)\\/)(?!\\.)(?=.)[^/]*?\\.stories\\.(js|jsx|ts|tsx|mdx))$":function(module,exports,__webpack_require__){var map={"./Animation.stories.tsx":"./stories/Animation.stories.tsx","./Basic.stories.tsx":"./stories/Basic.stories.tsx","./Direction.stories.tsx":"./stories/Direction.stories.tsx","./Droppable.stories.tsx":"./stories/Droppable.stories.tsx","./Grid.stories.tsx":"./stories/Grid.stories.tsx","./KeepState.stories.tsx":"./stories/KeepState.stories.tsx","./Nested.stories.tsx":"./stories/Nested.stories.tsx","./Remove.stories.tsx":"./stories/Remove.stories.tsx","./docs/Changelog.stories.mdx":"./stories/docs/Changelog.stories.mdx","./docs/Welcome.stories.mdx":"./stories/docs/Welcome.stories.mdx"};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id="./stories sync recursive ^\\.(?:(?:^|\\/|(?:(?:(?!(?:^|\\/)\\.).)*?)\\/)(?!\\.)(?=.)[^/]*?\\.stories\\.(js|jsx|ts|tsx|mdx))$"},"./stories/Animation.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Animation",(function(){return Animation}));__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js");var react__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./node_modules/react/index.js"),react_dnd__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./node_modules/react-dnd/dist/core/DndProvider.js"),react_dnd_html5_backend__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./node_modules/react-dnd-html5-backend/dist/index.js"),_src__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("./src/index.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("./node_modules/react/jsx-runtime.js");function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var meta={title:"Demos/动画",component:_src__WEBPACK_IMPORTED_MODULE_16__.a,argTypes:{enableAnimation:{defaultValue:!0,control:{type:"boolean"}},onChange:{action:"changed"}},parameters:{controls:{expanded:!0}}};__webpack_exports__.default=meta;var defaultStyle={border:"1px dashed gray",padding:"0.5rem 1rem",marginBottom:".5rem",marginRight:".5rem",backgroundColor:"white"},SortItem=Object(react__WEBPACK_IMPORTED_MODULE_13__.forwardRef)((function(props,ref){var data=props.data,style=props.style,drag=props.drag,className=props.className,animated=props.animated;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)("li",Object.assign({},Animation.args.enableAnimation?animated:{},{className:className,style:Object.assign({},defaultStyle,style),ref:drag&&drag(ref),children:data.name}))})),Template=function Template(args){var _useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_13__.useState)([{id:"1",name:"小明",type:"sortable-card"},{id:"2",name:"陈二",type:"sortable-card"},{id:"3",name:"张三",type:"sortable-card"},{id:"4",name:"李四",type:"sortable-card"},{id:"5",name:"老五",type:"sortable-card"},{id:"6",name:"赵六",type:"sortable-card"},{id:"7",name:"王七",type:"sortable-card"}]),2),items=_useState2[0],setItems=_useState2[1];return Animation.args=args,Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(react_dnd__WEBPACK_IMPORTED_MODULE_14__.a,{backend:react_dnd_html5_backend__WEBPACK_IMPORTED_MODULE_15__.a,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(_src__WEBPACK_IMPORTED_MODULE_16__.a,{accept:["sortable-card"],tag:"ul",style:{listStyle:"none",padding:0},items:items,preview:function preview(data){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(SortItem,{dragging:!1,data:data})},onChange:function handleChange(data,event){args.onChange(data,event),setItems(data)},itemRender:SortItem})})};Template.displayName="Template";var Animation=Template.bind({});Animation.storyName="动画",Animation.args={},Animation.parameters=Object.assign({storySource:{source:"args => {\n  const [items, setItems] = useState([\n    { id: '1', name: '小明', type: 'sortable-card' },\n    { id: '2', name: '陈二', type: 'sortable-card' },\n    { id: '3', name: '张三', type: 'sortable-card' },\n    { id: '4', name: '李四', type: 'sortable-card' },\n    { id: '5', name: '老五', type: 'sortable-card' },\n    { id: '6', name: '赵六', type: 'sortable-card' },\n    { id: '7', name: '王七', type: 'sortable-card' },\n  ]);\n\n  const handleChange = (data, event) => {\n    args.onChange(data, event);\n    setItems(data);\n  };\n\n  Animation.args = args;\n\n  return (\n    <DndProvider backend={HTML5Backend}>\n      <AsanySortable\n        accept={['sortable-card']}\n        tag=\"ul\"\n        style={{ listStyle: 'none', padding: 0 }}\n        items={items}\n        preview={(data) => <SortItem dragging={false} data={data} />}\n        onChange={handleChange}\n        itemRender={SortItem}\n      />\n    </DndProvider>\n  );\n}"}},Animation.parameters);try{Meta.displayName="Meta",Meta.__docgenInfo={description:"Metadata to configure the stories for a component.",displayName:"Meta",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["stories/Animation.stories.tsx#Meta"]={docgenInfo:Meta.__docgenInfo,name:"Meta",path:"stories/Animation.stories.tsx#Meta"})}catch(__react_docgen_typescript_loader_error){}},"./stories/Basic.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Default",(function(){return Default}));__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js");var react__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./node_modules/react/index.js"),react_dnd__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./node_modules/react-dnd/dist/core/DndProvider.js"),react_dnd_html5_backend__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./node_modules/react-dnd-html5-backend/dist/index.js"),_src__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("./src/index.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("./node_modules/react/jsx-runtime.js");function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var meta={title:"Demos/基础",component:_src__WEBPACK_IMPORTED_MODULE_16__.a,argTypes:{onChange:{action:"changed"}},parameters:{controls:{expanded:!0}}};__webpack_exports__.default=meta;var defaultStyle={border:"1px dashed gray",padding:"0.5rem 1rem",marginBottom:".5rem",marginRight:".5rem",backgroundColor:"white"},SortItem=Object(react__WEBPACK_IMPORTED_MODULE_13__.memo)(Object(react__WEBPACK_IMPORTED_MODULE_13__.forwardRef)((function(props,ref){var data=props.data,style=props.style,drag=props.drag,className=props.className;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)("li",{className:className,style:Object.assign({},defaultStyle,style),ref:drag&&drag(ref),children:data.name})}))),Template=function Template(args){var _useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_13__.useState)([{id:"1",name:"小明"},{id:"2",name:"陈二"},{id:"3",name:"张三"},{id:"4",name:"李四"},{id:"5",name:"老五"},{id:"6",name:"赵六"},{id:"7",name:"王七"}]),2),items=_useState2[0],setItems=_useState2[1];return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(react_dnd__WEBPACK_IMPORTED_MODULE_14__.a,{backend:react_dnd_html5_backend__WEBPACK_IMPORTED_MODULE_15__.a,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(_src__WEBPACK_IMPORTED_MODULE_16__.a,{tag:"ul",style:{listStyle:"none",padding:0},items:items,onChange:function handleChange(data,event){args.onChange(data,event),setItems(data)},itemRender:SortItem,preview:function preview(data){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(SortItem,{dragging:!1,data:data})}})})};Template.displayName="Template";var Default=Template.bind({});Default.storyName="基础",Default.args={},Default.parameters=Object.assign({storySource:{source:"args => {\n  const [items, setItems] = useState([\n    { id: '1', name: '小明' },\n    { id: '2', name: '陈二' },\n    { id: '3', name: '张三' },\n    { id: '4', name: '李四' },\n    { id: '5', name: '老五' },\n    { id: '6', name: '赵六' },\n    { id: '7', name: '王七' },\n  ]);\n\n  const handleChange = (data: any, event: any) => {\n    args.onChange(data, event);\n    setItems(data);\n  };\n  return (\n    <DndProvider backend={HTML5Backend}>\n      <AsanySortable\n        tag=\"ul\"\n        style={{ listStyle: 'none', padding: 0 }}\n        items={items}\n        onChange={handleChange}\n        itemRender={SortItem}\n        preview={(data) => <SortItem dragging={false} data={data} />}\n      />\n    </DndProvider>\n  );\n}"}},Default.parameters);try{Meta.displayName="Meta",Meta.__docgenInfo={description:"Metadata to configure the stories for a component.",displayName:"Meta",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["stories/Basic.stories.tsx#Meta"]={docgenInfo:Meta.__docgenInfo,name:"Meta",path:"stories/Basic.stories.tsx#Meta"})}catch(__react_docgen_typescript_loader_error){}},"./stories/Direction.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Direction",(function(){return Direction}));__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js");var react__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./node_modules/react/index.js"),react_dnd__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./node_modules/react-dnd/dist/core/DndProvider.js"),react_dnd_html5_backend__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./node_modules/react-dnd-html5-backend/dist/index.js"),_src__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("./src/index.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("./node_modules/react/jsx-runtime.js");function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var meta={title:"Demos/排列方向",component:_src__WEBPACK_IMPORTED_MODULE_16__.a,argTypes:{direction:{defaultValue:"vertical",options:["vertical","horizontal"],control:{type:"radio"}},onChange:{action:"changed"}},parameters:{controls:{expanded:!0}}};__webpack_exports__.default=meta;var defaultStyle={border:"1px dashed gray",padding:"0.5rem 1rem",marginBottom:".5rem",marginRight:".5rem",backgroundColor:"white"},SortItem=Object(react__WEBPACK_IMPORTED_MODULE_13__.forwardRef)((function(_ref,ref){var data=_ref.data,style=(_ref.remove,_ref.update,_ref.style),drag=_ref.drag,className=_ref.className;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)("li",{className:className,style:Object.assign({},defaultStyle,style),ref:drag(ref),children:data.name})})),Template=function Template(args){var _useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_13__.useState)([{id:"1",name:"小明",type:"sortable-card"},{id:"2",name:"陈二",type:"sortable-card"},{id:"3",name:"张三",type:"sortable-card"},{id:"4",name:"李四",type:"sortable-card"},{id:"5",name:"老五",type:"sortable-card"},{id:"6",name:"赵六",type:"sortable-card"},{id:"7",name:"王七",type:"sortable-card"}]),2),items=_useState2[0],setItems=_useState2[1];return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(react_dnd__WEBPACK_IMPORTED_MODULE_14__.a,{backend:react_dnd_html5_backend__WEBPACK_IMPORTED_MODULE_15__.a,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(_src__WEBPACK_IMPORTED_MODULE_16__.a,Object.assign({accept:["sortable-card"],tag:"ul",style:{listStyle:"none",padding:0},items:items,itemRender:SortItem},args,{onChange:function handleChange(data,event){console.log("handleChange",data),setItems(data),args.onChange(data,event)}}))})};Template.displayName="Template";var Direction=Template.bind({});Direction.storyName="排列方向",Direction.args={},Direction.parameters=Object.assign({storySource:{source:"(args) => {\n  const [items, setItems] = useState([\n    { id: '1', name: '小明', type: 'sortable-card' },\n    { id: '2', name: '陈二', type: 'sortable-card' },\n    { id: '3', name: '张三', type: 'sortable-card' },\n    { id: '4', name: '李四', type: 'sortable-card' },\n    { id: '5', name: '老五', type: 'sortable-card' },\n    { id: '6', name: '赵六', type: 'sortable-card' },\n    { id: '7', name: '王七', type: 'sortable-card' },\n  ]);\n\n  const handleChange = (data, event) => {\n    console.log('handleChange', data);\n    setItems(data);\n    args.onChange(data, event);\n  };\n  return (\n    <DndProvider backend={HTML5Backend}>\n      <AsanySortable\n        accept={['sortable-card']}\n        tag=\"ul\"\n        style={{ listStyle: 'none', padding: 0 }}\n        items={items}\n        itemRender={SortItem}\n        {...args}\n        onChange={handleChange}\n      />\n    </DndProvider>\n  );\n}"}},Direction.parameters);try{Meta.displayName="Meta",Meta.__docgenInfo={description:"Metadata to configure the stories for a component.",displayName:"Meta",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["stories/Direction.stories.tsx#Meta"]={docgenInfo:Meta.__docgenInfo,name:"Meta",path:"stories/Direction.stories.tsx#Meta"})}catch(__react_docgen_typescript_loader_error){}},"./stories/Droppable.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Droppable",(function(){return Droppable}));__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js"),__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.string.replace.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.exec.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.date.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.typed-array.uint32-array.js"),__webpack_require__("./node_modules/core-js/modules/es.typed-array.copy-within.js"),__webpack_require__("./node_modules/core-js/modules/es.typed-array.every.js"),__webpack_require__("./node_modules/core-js/modules/es.typed-array.fill.js"),__webpack_require__("./node_modules/core-js/modules/es.typed-array.filter.js"),__webpack_require__("./node_modules/core-js/modules/es.typed-array.find.js"),__webpack_require__("./node_modules/core-js/modules/es.typed-array.find-index.js"),__webpack_require__("./node_modules/core-js/modules/es.typed-array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.typed-array.includes.js"),__webpack_require__("./node_modules/core-js/modules/es.typed-array.index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.typed-array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.typed-array.join.js"),__webpack_require__("./node_modules/core-js/modules/es.typed-array.last-index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.typed-array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.typed-array.reduce.js"),__webpack_require__("./node_modules/core-js/modules/es.typed-array.reduce-right.js"),__webpack_require__("./node_modules/core-js/modules/es.typed-array.reverse.js"),__webpack_require__("./node_modules/core-js/modules/es.typed-array.set.js"),__webpack_require__("./node_modules/core-js/modules/es.typed-array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.typed-array.some.js"),__webpack_require__("./node_modules/core-js/modules/es.typed-array.sort.js"),__webpack_require__("./node_modules/core-js/modules/es.typed-array.subarray.js"),__webpack_require__("./node_modules/core-js/modules/es.typed-array.to-locale-string.js"),__webpack_require__("./node_modules/core-js/modules/es.typed-array.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array-buffer.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js");var react__WEBPACK_IMPORTED_MODULE_44__=__webpack_require__("./node_modules/react/index.js"),react_dnd__WEBPACK_IMPORTED_MODULE_45__=__webpack_require__("./node_modules/react-dnd/dist/hooks/useDrag/useDrag.js"),react_dnd__WEBPACK_IMPORTED_MODULE_46__=__webpack_require__("./node_modules/react-dnd/dist/core/DndProvider.js"),react_dnd_html5_backend__WEBPACK_IMPORTED_MODULE_47__=__webpack_require__("./node_modules/react-dnd-html5-backend/dist/index.js"),_src__WEBPACK_IMPORTED_MODULE_48__=__webpack_require__("./src/index.tsx"),_heros_json__WEBPACK_IMPORTED_MODULE_49__=__webpack_require__("./stories/heros.json"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_50__=__webpack_require__("./node_modules/react/jsx-runtime.js"),_excluded=["itemRef","itemClassName","itemStyle","itemData","children"];function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||_unsupportedIterableToArray(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var meta={title:"Demos/拖放",component:_src__WEBPACK_IMPORTED_MODULE_48__.a,argTypes:{accept:{defaultValue:"default",options:["default","heros"],control:{type:"select"}},onChange:{action:"changed"},onDrop:{action:"droped"}},parameters:{controls:{expanded:!0}}};__webpack_exports__.default=meta;var defaultStyle={border:"1px dashed gray",padding:"0.5rem 1rem",marginBottom:".5rem",marginRight:".5rem",backgroundColor:"white"},data=[{id:"2",name:"老王",type:"default"},{id:"3",name:"老五",type:"default"},{id:"1",name:"荣耀",type:"card-box",accept:["default"],children:[{id:"11",name:"鲁班7号",type:"default"},{id:"12",name:"廉颇",type:"default"},{id:"13",name:"凯",type:"default"},{id:"14",name:"长城守卫军 (HEROS + DEFAULT)",type:"card-box",accept:["heros","default"],children:[{id:"15",name:"苏烈",type:"default"}]}]},{id:"4",name:"张三",type:"default"},{id:"5",name:"赵六",type:"default"},{id:"6",name:"李七",type:"default"},{id:"7",name:"王者营地 (HEROS)",type:"card-box",accept:["heros"]}];function Dragme(){var ref=Object(react__WEBPACK_IMPORTED_MODULE_44__.useRef)(),_useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_44__.useState)(_heros_json__WEBPACK_IMPORTED_MODULE_49__),2),names=_useState2[0],setNames=_useState2[1],_item={id:"10000000-1000-4000-8000-100000000000".replace(/[018]/g,(function(c){return(c^crypto.getRandomValues(new Uint32Array(1))[0]&15>>c/4).toString(16)})),type:Droppable.args.accept},drag=_slicedToArray(Object(react_dnd__WEBPACK_IMPORTED_MODULE_45__.a)({canDrag:function canDrag(){return!!names.length},type:Droppable.args.accept,item:function item(){return Object.assign({},_item,{name:names[0]+" - "+Droppable.args.accept,get rect(){var _ref$current;return null===(_ref$current=ref.current)||void 0===_ref$current?void 0:_ref$current.getBoundingClientRect()}})},end:function end(_,monitor){var result=monitor.getDropResult();result&&(Droppable.args.onDrop(result),names.shift(),setNames(_toConsumableArray(names)))},collect:function collect(monitor){return{opacity:monitor.isDragging()?.4:1}}}),2)[1];return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_50__.jsxs)("div",{ref:drag(ref),children:["英雄池(",names.length,")"]})}Dragme.displayName="Dragme";var InternalContainer=Object(react__WEBPACK_IMPORTED_MODULE_44__.forwardRef)((function(_ref,boxRef){var itemRef=_ref.itemRef,itemClassName=_ref.itemClassName,itemStyle=_ref.itemStyle,itemData=_ref.itemData,children=_ref.children,props=_objectWithoutProperties(_ref,_excluded);return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_50__.jsx)("li",{className:itemClassName,style:Object.assign({},defaultStyle,itemStyle,{padding:0}),ref:itemRef,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_50__.jsxs)("span",{ref:boxRef,style:{display:"block",padding:"0.5rem 1rem"},children:[itemData.name,Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_50__.jsx)("ul",Object.assign({},props,{children:children}))]})})})),SortItem=Object(react__WEBPACK_IMPORTED_MODULE_44__.forwardRef)((function(_ref2,itemRef){var data=_ref2.data,style=_ref2.style,drag=_ref2.drag,className=_ref2.className,update=_ref2.update,_useState4=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_44__.useState)(data.children||[]),2),items=_useState4[0],setItems=_useState4[1];return drag(itemRef),"card-box"==data.type?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_50__.jsx)(NestedSortable,{accept:data.accept,tag:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_50__.jsx)(InternalContainer,{itemData:data,itemRef:itemRef,itemClassName:className,itemStyle:style}),items:items,onChange:function handleChange(values,event){setItems(values),Droppable.args.onChange(values,event),update(Object.assign({},data,{children:values}))}}):Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_50__.jsx)("li",{ref:itemRef,className:className,style:Object.assign({},defaultStyle,style),children:data.name})})),NestedSortable=function NestedSortable(_ref3){var _ref3$tag=_ref3.tag,tag=void 0===_ref3$tag?"ul":_ref3$tag,_ref3$accept=_ref3.accept,accept=void 0===_ref3$accept?[]:_ref3$accept,items=_ref3.items,handleChange=_ref3.onChange;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_50__.jsx)(_src__WEBPACK_IMPORTED_MODULE_48__.a,{items:items,accept:accept,itemRender:SortItem,style:{listStyle:"none",padding:0},tag:tag,onChange:handleChange})};NestedSortable.displayName="NestedSortable";var Template=function Template(args){var _useState6=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_44__.useState)(data),2),items=_useState6[0],setItems=_useState6[1];return Droppable.args=args,Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_50__.jsxs)(react_dnd__WEBPACK_IMPORTED_MODULE_46__.a,{backend:react_dnd_html5_backend__WEBPACK_IMPORTED_MODULE_47__.a,children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_50__.jsx)(Dragme,{}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_50__.jsx)("br",{}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_50__.jsx)(NestedSortable,{accept:["default"],items:items,onChange:function handleChange(data,event){console.log("handleChange",data),setItems(data),Droppable.args.onChange(data,event)}})]})};Template.displayName="Template";var Droppable=Template.bind({});Droppable.storyName="拖放",Droppable.args={},Droppable.parameters=Object.assign({storySource:{source:"(args) => {\n  const [items, setItems] = useState(data);\n\n  const handleChange = (data, event) => {\n    console.log('handleChange', data);\n    setItems(data);\n    Droppable.args.onChange(data, event);\n  };\n\n  Droppable.args = args;\n\n  return (\n    <DndProvider backend={HTML5Backend}>\n      <Dragme />\n      <br />\n      <NestedSortable\n        accept={['default']}\n        items={items}\n        onChange={handleChange}\n      />\n    </DndProvider>\n  );\n}"}},Droppable.parameters);try{Meta.displayName="Meta",Meta.__docgenInfo={description:"Metadata to configure the stories for a component.",displayName:"Meta",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["stories/Droppable.stories.tsx#Meta"]={docgenInfo:Meta.__docgenInfo,name:"Meta",path:"stories/Droppable.stories.tsx#Meta"})}catch(__react_docgen_typescript_loader_error){}},"./stories/Grid.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Grid",(function(){return Grid}));__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.array.reduce.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js");var react__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./node_modules/react/index.js"),react_dnd__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("./node_modules/react-dnd/dist/core/DndProvider.js"),react_dnd_html5_backend__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("./node_modules/react-dnd-html5-backend/dist/index.js"),_src__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("./src/index.tsx"),_heros_json__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("./stories/heros.json"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__("./node_modules/react/jsx-runtime.js");function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||_unsupportedIterableToArray(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var meta={title:"Demos/格子",component:_src__WEBPACK_IMPORTED_MODULE_18__.a,argTypes:{layout:{defaultValue:"grid",options:["grid","list"],control:{type:"radio"}},onChange:{action:"changed"}},parameters:{controls:{expanded:!0}}};__webpack_exports__.default=meta;for(var defaultStyle={border:"1px dashed gray",padding:"0.5rem 1rem",marginBottom:".5rem",marginRight:".5rem",backgroundColor:"white"},SortItem=Object(react__WEBPACK_IMPORTED_MODULE_15__.memo)(Object(react__WEBPACK_IMPORTED_MODULE_15__.forwardRef)((function(_ref,ref){var data=_ref.data,style=_ref.style,drag=_ref.drag;return console.log("刷新 - 1:",data.name),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)("li",{style:Object.assign({},defaultStyle,style),ref:drag(ref),children:data.name})}))),x=[],i=0;i<20;i++)x.push(i);var Template=function Template(args){var _useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_15__.useState)(x.reduce((function(array,item){return array.push.apply(array,_toConsumableArray(_heros_json__WEBPACK_IMPORTED_MODULE_19__.map((function(name,id){return{id:String(id)+"-"+item,name:name+"("+String(id)+"-"+item+")"}})))),array}),[])),2),items=_useState2[0],setItems=_useState2[1];console.log("items:",items.length);return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)(react_dnd__WEBPACK_IMPORTED_MODULE_16__.a,{backend:react_dnd_html5_backend__WEBPACK_IMPORTED_MODULE_17__.a,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)(_src__WEBPACK_IMPORTED_MODULE_18__.a,{tag:"ul",style:{listStyle:"none",padding:0},items:items,onChange:function handleChange(data,event){args.onChange(data,event),setItems(data)},itemRender:function itemRender(props,ref){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)(SortItem,Object.assign({},props,{ref:ref}))},layout:args.layout})})};Template.displayName="Template";var Grid=Template.bind({});Grid.storyName="格子",Grid.args={},Grid.parameters=Object.assign({storySource:{source:"(args) => {\n  const [items, setItems] = useState(\n    x.reduce((array, item) => {\n      array.push(\n        ...heros.map((name, id) => ({\n          id: String(id) + '-' + item,\n          name: name + `(${String(id) + '-' + item})`,\n        }))\n      );\n      return array;\n    }, [])\n  );\n\n  console.log('items:', items.length);\n\n  const handleChange = (data, event) => {\n    args.onChange(data, event);\n    setItems(data);\n  };\n\n  return (\n    <DndProvider backend={HTML5Backend}>\n      <AsanySortable\n        tag=\"ul\"\n        style={{ listStyle: 'none', padding: 0 }}\n        items={items}\n        onChange={handleChange}\n        itemRender={(props, ref) => <SortItem {...props} ref={ref} />}\n        layout={args.layout}\n      />\n    </DndProvider>\n  );\n}"}},Grid.parameters);try{Meta.displayName="Meta",Meta.__docgenInfo={description:"Metadata to configure the stories for a component.",displayName:"Meta",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["stories/Grid.stories.tsx#Meta"]={docgenInfo:Meta.__docgenInfo,name:"Meta",path:"stories/Grid.stories.tsx#Meta"})}catch(__react_docgen_typescript_loader_error){}},"./stories/KeepState.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"KeepState",(function(){return KeepState}));__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js");var react__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./node_modules/react/index.js"),react_dnd__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./node_modules/react-dnd/dist/core/DndProvider.js"),react_dnd_html5_backend__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./node_modules/react-dnd-html5-backend/dist/index.js"),_src__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("./src/index.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("./node_modules/react/jsx-runtime.js");function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var meta={title:"Demos/状态保持",component:_src__WEBPACK_IMPORTED_MODULE_16__.a,argTypes:{onDrag:{action:"draged"},onDrop:{action:"droped"},onSort:{action:"sorted"},onRemove:{action:"removed"},onChange:{action:"changed"}},parameters:{controls:{expanded:!0}}},dispatchAction=function dispatchAction(data,event){switch(event.type){case"update":return KeepState.args.onChange(data,event);case"drop":return KeepState.args.onDrop(data,event);case"drag":return KeepState.args.onDrag(data,event);case"sort":return KeepState.args.onSort(data,event);case"remove":return KeepState.args.onRemove(data,event)}};__webpack_exports__.default=meta;var defaultStyle={border:"1px dashed gray",padding:"0.5rem 1rem",marginBottom:".5rem",backgroundColor:"white"},SortItem=Object(react__WEBPACK_IMPORTED_MODULE_13__.forwardRef)((function(_ref,ref){var update=_ref.update,data=_ref.data,style=_ref.style,drag=_ref.drag,className=_ref.className;if("sortable-card-2"===data.type){var _useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_13__.useState)([{id:11,name:"鲁班7号",type:"sortable-card"},{id:12,name:"廉颇",type:"sortable-card"},{id:13,name:"凯",type:"sortable-card"},{id:14,name:"苏烈",type:"sortable-card"}]),2),items=_useState2[0],setItems=_useState2[1];return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsxs)("li",{className:className,style:Object.assign({},defaultStyle,style),ref:drag(ref),children:[data.name,Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(_src__WEBPACK_IMPORTED_MODULE_16__.a,{style:{listStyle:"none",padding:0,minHeight:100},accept:["sortable-card-2","sortable-card"],tag:"ul",items:items,itemRender:SortItem,onChange:function _handleChange(values,event){dispatchAction(data,event),setItems(values)}})]})}var _useState4=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_13__.useState)(data.name),2),name=_useState4[0],setName=_useState4[1];return Object(react__WEBPACK_IMPORTED_MODULE_13__.useEffect)((function(){update({name:name})}),[name]),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)("li",{ref:drag(ref),className:className,style:Object.assign({},defaultStyle,style),children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)("input",{value:name,onChange:function handleChange(event){setName(event.target.value)}})})})),Template=function Template(args){var _useState6=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_13__.useState)([{id:"1",name:"小明",type:"sortable-card"},{id:"2",name:"陈二",type:"sortable-card"},{id:"3",name:"张三",type:"sortable-card"},{id:"4",name:"李四",type:"sortable-card"},{id:"5",name:"老五",type:"sortable-card"},{id:"6",name:"赵六",type:"sortable-card"},{id:"7",name:"王者营地",type:"sortable-card-2"}]),2),items=_useState6[0],setItems=_useState6[1];return KeepState.args=args,Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(react_dnd__WEBPACK_IMPORTED_MODULE_14__.a,{backend:react_dnd_html5_backend__WEBPACK_IMPORTED_MODULE_15__.a,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(_src__WEBPACK_IMPORTED_MODULE_16__.a,{accept:["sortable-card"],tag:"ul",style:{listStyle:"none",padding:0},items:items,onChange:function handleChange(data,event){setItems(data),dispatchAction(data,event)},itemRender:SortItem})})};Template.displayName="Template";var KeepState=Template.bind({});KeepState.storyName="状态保持",KeepState.args={},KeepState.parameters=Object.assign({storySource:{source:"(args) => {\n  const [items, setItems] = useState([\n    { id: '1', name: '小明', type: 'sortable-card' },\n    { id: '2', name: '陈二', type: 'sortable-card' },\n    { id: '3', name: '张三', type: 'sortable-card' },\n    { id: '4', name: '李四', type: 'sortable-card' },\n    { id: '5', name: '老五', type: 'sortable-card' },\n    { id: '6', name: '赵六', type: 'sortable-card' },\n    { id: '7', name: '王者营地', type: 'sortable-card-2' },\n  ]);\n\n  const handleChange = (data, event) => {\n    setItems(data);\n    dispatchAction(data, event);\n  };\n\n  KeepState.args = args;\n\n  return (\n    <DndProvider backend={HTML5Backend}>\n      <AsanySortable\n        accept={['sortable-card']}\n        tag=\"ul\"\n        style={{ listStyle: 'none', padding: 0 }}\n        items={items}\n        onChange={handleChange}\n        itemRender={SortItem}\n      />\n    </DndProvider>\n  );\n}"}},KeepState.parameters);try{Meta.displayName="Meta",Meta.__docgenInfo={description:"Metadata to configure the stories for a component.",displayName:"Meta",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["stories/KeepState.stories.tsx#Meta"]={docgenInfo:Meta.__docgenInfo,name:"Meta",path:"stories/KeepState.stories.tsx#Meta"})}catch(__react_docgen_typescript_loader_error){}},"./stories/Nested.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Nested",(function(){return Nested}));__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js");var react__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./node_modules/react/index.js"),react_dnd__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("./node_modules/react-dnd/dist/core/DndProvider.js"),react_dnd_html5_backend__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("./node_modules/react-dnd-html5-backend/dist/index.js"),_src__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("./src/index.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("./node_modules/react/jsx-runtime.js"),_excluded=["itemRef","itemClassName","itemStyle","itemData","children"];function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var meta={title:"Demos/嵌套",component:_src__WEBPACK_IMPORTED_MODULE_18__.a,argTypes:{onDrag:{action:"draged"},onDrop:{action:"droped"},onSort:{action:"sorted"},onRemove:{action:"removed"},onChange:{action:"changed"}},parameters:{controls:{expanded:!0}}},dispatchAction=function dispatchAction(data,event){switch(event.type){case"update":return Nested.args.onChange(data,event);case"drop":return Nested.args.onDrop(data,event);case"drag":return Nested.args.onDrag(data,event);case"sort":return Nested.args.onSort(data,event);case"remove":return Nested.args.onRemove(data,event)}};__webpack_exports__.default=meta;var defaultStyle={border:"1px dashed gray",padding:"0.5rem 1rem",marginBottom:".5rem",marginRight:".5rem",backgroundColor:"white"},data=[{id:"1",name:"荣耀",type:"card-box",children:[{id:"11",name:"鲁班7号",type:"sortable-card"},{id:"12",name:"廉颇",type:"sortable-card"},{id:"13",name:"凯",type:"sortable-card"},{id:"14",name:"长城守卫军",type:"card-box",children:[{id:"15",name:"苏烈",type:"sortable-card"}]}]},{id:"2",name:"老王",type:"sortable-card"},{id:"3",name:"老五",type:"sortable-card"},{id:"4",name:"张三",type:"sortable-card"},{id:"5",name:"赵六",type:"sortable-card"},{id:"6",name:"李七",type:"sortable-card"},{id:"7",name:"王者营地",type:"card-box"}],InternalContainer=Object(react__WEBPACK_IMPORTED_MODULE_15__.forwardRef)((function(_ref,boxRef){var itemRef=_ref.itemRef,itemClassName=_ref.itemClassName,itemStyle=_ref.itemStyle,itemData=_ref.itemData,children=_ref.children,props=_objectWithoutProperties(_ref,_excluded);return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)("li",{className:itemClassName,style:Object.assign({},defaultStyle,itemStyle,{padding:0}),ref:itemRef,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsxs)("span",{ref:boxRef,style:{display:"block",padding:"0.5rem 1rem"},children:[itemData.name,Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)("ul",Object.assign({},props,{children:children}))]})})})),SortItem=Object(react__WEBPACK_IMPORTED_MODULE_15__.forwardRef)((function(_ref2,itemRef){var data=_ref2.data,style=_ref2.style,drag=_ref2.drag,className=_ref2.className,update=_ref2.update,_useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_15__.useState)(data.children||[]),2),items=_useState2[0],setItems=_useState2[1];return drag&&drag(itemRef),"card-box"==data.type?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)(NestedSortable,{tag:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)(InternalContainer,{itemData:data,itemRef:itemRef,itemClassName:className,itemStyle:style}),items:items,onChange:function handleChange(values,event){setItems(values),update(Object.assign({},data,{children:values})),dispatchAction(data,event)}}):Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)("li",{ref:itemRef,className:className,style:Object.assign({},defaultStyle,style),children:data.name})})),NestedSortable=function NestedSortable(_ref3){var _ref3$tag=_ref3.tag,tag=void 0===_ref3$tag?"ul":_ref3$tag,items=_ref3.items,preview=_ref3.preview,handleChange=_ref3.onChange;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)(_src__WEBPACK_IMPORTED_MODULE_18__.a,{items:items,itemRender:SortItem,preview:preview,style:{listStyle:"none",padding:0},accept:["sortable-card","card-box"],tag:tag,onChange:handleChange})};NestedSortable.displayName="NestedSortable";var Template=function Template(args){var _useState4=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_15__.useState)(data),2),items=_useState4[0],setItems=_useState4[1];return Nested.args=args,Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)(react_dnd__WEBPACK_IMPORTED_MODULE_16__.a,{backend:react_dnd_html5_backend__WEBPACK_IMPORTED_MODULE_17__.a,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)(NestedSortable,{items:items,preview:function preview(data){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)(SortItem,{dragging:!1,data:data})},onChange:function handleChange(data,event){setItems(data),dispatchAction(data,event)}})})};Template.displayName="Template";var Nested=Template.bind({});Nested.storyName="嵌套",Nested.args={},Nested.parameters=Object.assign({storySource:{source:"args => {\n  const [items, setItems] = useState(data);\n\n  const handleChange = (data, event) => {\n    setItems(data);\n    dispatchAction(data, event);\n  };\n\n  Nested.args = args;\n\n  return (\n    <DndProvider backend={HTML5Backend}>\n      <NestedSortable\n        items={items}\n        preview={(data) => <SortItem dragging={false} data={data} />}\n        onChange={handleChange}\n      />\n    </DndProvider>\n  );\n}"}},Nested.parameters);try{Meta.displayName="Meta",Meta.__docgenInfo={description:"Metadata to configure the stories for a component.",displayName:"Meta",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["stories/Nested.stories.tsx#Meta"]={docgenInfo:Meta.__docgenInfo,name:"Meta",path:"stories/Nested.stories.tsx#Meta"})}catch(__react_docgen_typescript_loader_error){}},"./stories/Remove.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Remove",(function(){return Remove}));__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js");var react__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./node_modules/react/index.js"),react_dnd__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./node_modules/react-dnd/dist/hooks/useDrop/useDrop.js"),react_dnd__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./node_modules/react-dnd/dist/core/DndProvider.js"),react_dnd_html5_backend__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("./node_modules/react-dnd-html5-backend/dist/index.js"),_src__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("./src/index.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("./node_modules/react/jsx-runtime.js");function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var meta={title:"Demos/删除",component:_src__WEBPACK_IMPORTED_MODULE_17__.a,argTypes:{onDrag:{action:"draged"},onDrop:{action:"droped"},onSort:{action:"sorted"},onRemove:{action:"removed"},onChange:{action:"changed"}},parameters:{controls:{expanded:!0}}},dispatchAction=function dispatchAction(data,event){switch(event.type){case"update":return Remove.args.onChange(data,event);case"drop":return Remove.args.onDrop(data,event);case"drag":return Remove.args.onDrag(data,event);case"sort":return Remove.args.onSort(data,event);case"remove":return Remove.args.onRemove(data,event)}};__webpack_exports__.default=meta;var defaultStyle={border:"1px dashed gray",padding:"0.5rem 1rem",marginBottom:".5rem",backgroundColor:"white"},rowStyle={display:"flex"},nameStyle={flex:1},recycledStyle={width:"100%",height:50,paddingLeft:"1rem",border:"1px dashed gray",lineHeight:"50px"};function Recycled(){var ref=Object(react__WEBPACK_IMPORTED_MODULE_13__.useRef)(),_useDrop2=_slicedToArray(Object(react_dnd__WEBPACK_IMPORTED_MODULE_14__.a)({accept:["sortable-card"],drop:function drop(){return{type:"dustbin"}},canDrop:function canDrop(item,monitor){return item.deleteable&&monitor.isOver({shallow:!0})},collect:function collect(monitor){return{isOver:monitor.isOver(),handlerId:monitor.getHandlerId()}}}),2),isOver=_useDrop2[0].isOver;(0,_useDrop2[1])(ref);var backgroundColor=void 0;return isOver&&(backgroundColor="#a5d6a7"),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)("div",{style:Object.assign({},recycledStyle,{backgroundColor:backgroundColor}),ref:ref,children:"回收站(拖拽删除 支持 type = sortable-card 类型 的数据)"})}function ItemRender(_ref,ref){var data=_ref.data,style=_ref.style,drag=_ref.drag,className=_ref.className,remove=_ref.remove,_useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_13__.useState)([{id:"11",name:"鲁班7号",type:"sortable-card"},{id:"12",name:"廉颇",type:"sortable-card"},{id:"13",name:"凯",type:"sortable-card"},{id:"14",name:"苏烈",type:"sortable-card"}]),2),items=_useState2[0],setItems=_useState2[1];return"sortable-card-2"===data.type?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsxs)("li",{className:className,style:Object.assign({},defaultStyle,style),ref:drag(ref),children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsxs)("div",{style:rowStyle,children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)("span",{style:nameStyle,children:data.name}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)("a",{onClick:remove,children:"删除"})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(_src__WEBPACK_IMPORTED_MODULE_17__.a,{style:{minHeight:100,listStyle:"none",padding:0},accept:["sortable-card-2","sortable-card"],tag:"ul",items:items,itemRender:ItemRender,onChange:function handleChange(values,event){setItems(values),dispatchAction(values,event)}})]}):Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)("li",{ref:drag(ref),className:className,style:Object.assign({},defaultStyle,style),children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsxs)("div",{style:rowStyle,children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)("span",{style:nameStyle,children:data.name}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)("a",{onClick:remove,children:"删除"})]})})}Recycled.displayName="Recycled",ItemRender.displayName="ItemRender";var Template=function Template(args){var _useState4=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_13__.useState)([{id:"1",name:"小明",type:"sortable-card"},{id:"2",name:"陈二",type:"sortable-card"},{id:"8",name:"王者营地",type:"sortable-card-2"}]),2),items=_useState4[0],setItems=_useState4[1];return Remove.args=args,Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsxs)(react_dnd__WEBPACK_IMPORTED_MODULE_15__.a,{backend:react_dnd_html5_backend__WEBPACK_IMPORTED_MODULE_16__.a,children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(Recycled,{}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)("br",{}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(_src__WEBPACK_IMPORTED_MODULE_17__.a,{accept:["sortable-card"],tag:"ul",style:{listStyle:"none",padding:0},items:items,onChange:function handleChange(data,event){setItems(data),dispatchAction(data,event)},itemRender:ItemRender})]})};Template.displayName="Template";var Remove=Template.bind({});Remove.storyName="删除",Remove.args={},Remove.parameters=Object.assign({storySource:{source:"(args) => {\n  const [items, setItems] = useState([\n    { id: '1', name: '小明', type: 'sortable-card' },\n    { id: '2', name: '陈二', type: 'sortable-card' },\n    // { id: '3', name: '张三', type: 'sortable-card' },\n    // { id: '4', name: '李四', type: 'sortable-card' },\n    // { id: '5', name: '老五', type: 'sortable-card' },\n    // { id: '6', name: '赵六', type: 'sortable-card' },\n    // { id: '7', name: '王七', type: 'sortable-card' },\n    { id: '8', name: '王者营地', type: 'sortable-card-2' },\n  ]);\n\n  const handleChange = (data, event) => {\n    setItems(data);\n    dispatchAction(data, event);\n  };\n\n  Remove.args = args;\n\n  return (\n    <DndProvider backend={HTML5Backend}>\n      <Recycled />\n      <br />\n      <AsanySortable\n        accept={['sortable-card']}\n        tag=\"ul\"\n        style={{ listStyle: 'none', padding: 0 }}\n        items={items}\n        onChange={handleChange}\n        itemRender={ItemRender}\n      />\n    </DndProvider>\n  );\n}"}},Remove.parameters);try{Meta.displayName="Meta",Meta.__docgenInfo={description:"Metadata to configure the stories for a component.",displayName:"Meta",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["stories/Remove.stories.tsx#Meta"]={docgenInfo:Meta.__docgenInfo,name:"Meta",path:"stories/Remove.stories.tsx#Meta"})}catch(__react_docgen_typescript_loader_error){}},"./stories/docs/Changelog.stories.mdx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"__page",(function(){return __page}));__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/react/index.js");var _mdx_js_react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@mdx-js/react/dist/esm.js"),_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@storybook/addon-docs/dist/esm/index.js"),_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/@storybook/addon-docs/blocks.js"),_excluded=["components"];function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var layoutProps={};function MDXContent(_ref){var components=_ref.components,props=_objectWithoutProperties(_ref,_excluded);return Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("wrapper",_extends({},layoutProps,props,{components:components,mdxType:"MDXLayout"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)(_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_8__.a,{title:"综述/更新日志",mdxType:"Meta"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("h2",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("a",{parentName:"h2",href:"https://github.com/limaofeng/asany-sortable/compare/v0.1.31...v0.1.32"},"0.1.32")," (2022-06-23)"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("h3",null,"Bug Fixes"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("ul",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("li",{parentName:"ul"},"修复重置数据时， preview 设置丢失的问题 (",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("a",{parentName:"li",href:"https://github.com/limaofeng/asany-sortable/commit/4b768fc7f2fd05abcb619fe1678f63a51d7015ce"},"4b768fc"),")")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("h2",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("a",{parentName:"h2",href:"https://github.com/limaofeng/asany-sortable/compare/v0.1.30...v0.1.31"},"0.1.31")," (2022-06-23)"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("h3",null,"Features"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("ul",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("li",{parentName:"ul"},"支持 empty 属性 (",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("a",{parentName:"li",href:"https://github.com/limaofeng/asany-sortable/commit/cb9fe442beccb4dc57e17a7182b6a507cea6df8b"},"cb9fe44"),")"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("li",{parentName:"ul"},"支持自定义 DragPreview (",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("a",{parentName:"li",href:"https://github.com/limaofeng/asany-sortable/commit/585ad15b4d78e8caa58c45ab0a8f0193e6dc01b8"},"585ad15"),")")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("h2",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("a",{parentName:"h2",href:"https://github.com/limaofeng/asany-sortable/compare/v0.1.29...v0.1.30"},"0.1.30")," (2021-11-19)"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("h3",null,"Bug Fixes"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("ul",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("li",{parentName:"ul"},"sortable 替换 dragCondition 配置，支持 bool 设置 (",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("a",{parentName:"li",href:"https://github.com/limaofeng/asany-sortable/commit/f6d11c70afbc4b70dd974721af0eb6f37c950b6a"},"f6d11c7"),")")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("h2",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("a",{parentName:"h2",href:"https://github.com/limaofeng/asany-sortable/compare/v0.1.28...v0.1.29"},"0.1.29")," (2021-11-13)"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("h3",null,"Bug Fixes"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("ul",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("li",{parentName:"ul"},"解决 _rect 排序错误 (",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("a",{parentName:"li",href:"https://github.com/limaofeng/asany-sortable/commit/d41ab4eecd3f84f88613d0ece72d89f6530b52f5"},"d41ab4e"),")")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("h2",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("a",{parentName:"h2",href:"https://github.com/limaofeng/asany-sortable/compare/v0.1.27...v0.1.28"},"0.1.28")," (2021-11-13)"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("h3",null,"Bug Fixes"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("ul",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("li",{parentName:"ul"},"修复计算问题 (",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("a",{parentName:"li",href:"https://github.com/limaofeng/asany-sortable/commit/6f3499cd6d5fc02bbd39b6968e87ea0d9e116bca"},"6f3499c"),")")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("h2",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("a",{parentName:"h2",href:"https://github.com/limaofeng/asany-sortable/compare/v0.1.26...v0.1.27"},"0.1.27")," (2021-11-12)"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("h3",null,"Bug Fixes"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("ul",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("li",{parentName:"ul"},"修复刷新数据时, pos 丢失的问题 (",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("a",{parentName:"li",href:"https://github.com/limaofeng/asany-sortable/commit/5c30152c9b89b61e217249d3dc2073a45b217438"},"5c30152"),")")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("h2",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("a",{parentName:"h2",href:"https://github.com/limaofeng/asany-sortable/compare/v0.1.25...v0.1.26"},"0.1.26")," (2021-11-07)"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("h2",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("a",{parentName:"h2",href:"https://github.com/limaofeng/asany-sortable/compare/v0.1.24...v0.1.25"},"0.1.25")," (2021-11-07)"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("h2",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("a",{parentName:"h2",href:"https://github.com/limaofeng/asany-sortable/compare/v0.1.23...v0.1.24"},"0.1.24")," (2021-11-07)"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("h2",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("a",{parentName:"h2",href:"https://github.com/limaofeng/asany-sortable/compare/v0.1.22...v0.1.23"},"0.1.23")," (2021-11-07)"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("h3",null,"Features"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("ul",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("li",{parentName:"ul"},"添加 mode 选择 (",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("a",{parentName:"li",href:"https://github.com/limaofeng/asany-sortable/commit/c43c6155f1050cf1f78d750d0da17557c74730aa"},"c43c615"),")")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("h2",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("a",{parentName:"h2",href:"https://github.com/limaofeng/asany-sortable/compare/v0.1.21...v0.1.22"},"0.1.22")," (2021-08-11)"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("h3",null,"Bug Fixes"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("ul",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("li",{parentName:"ul"},"rerender 选项默认值逻辑调整，itemRender 为函数是为 tree 为组件时为 false (",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("a",{parentName:"li",href:"https://github.com/limaofeng/asany-sortable/commit/54bf7f5135e50e6bee72f45dbc33e73a6dcea3ba"},"54bf7f5"),")"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("li",{parentName:"ul"},"解决禁用拖拽后依然更新 clicked 值的 BUG (",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("a",{parentName:"li",href:"https://github.com/limaofeng/asany-sortable/commit/f61aaabc6a4b693f27368e60eed0bf0c84cf6626"},"f61aaab"),")")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("h2",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("a",{parentName:"h2",href:"https://github.com/limaofeng/asany-sortable/compare/v0.1.20...v0.1.21"},"0.1.21")," (2021-08-11)"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("h3",null,"Features"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("ul",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("li",{parentName:"ul"},"itemRender 添加 clicked 与 dragging (",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("a",{parentName:"li",href:"https://github.com/limaofeng/asany-sortable/commit/84368048b48d24e340657da538d330b46fc05e47"},"8436804"),")")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("h2",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("a",{parentName:"h2",href:"https://github.com/limaofeng/asany-sortable/compare/v0.1.19...v0.1.20"},"0.1.20")," (2021-08-11)"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("h3",null,"Features"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("ul",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("li",{parentName:"ul"},"使用 IntersectionObserver 过滤不可见的元素 (",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("a",{parentName:"li",href:"https://github.com/limaofeng/asany-sortable/commit/f3b4d83185ad9739b0460ed2f094b33f68ea4186"},"f3b4d83"),")"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("li",{parentName:"ul"},"优化 rerender 刷新方式，只触发可见范围内的组件 (",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("a",{parentName:"li",href:"https://github.com/limaofeng/asany-sortable/commit/fc59811a263c0e1f6982a0804fbf00e90bda5e42"},"fc59811"),")")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("h2",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("a",{parentName:"h2",href:"https://github.com/limaofeng/asany-sortable/compare/v0.1.18...v0.1.19"},"0.1.19")," (2021-08-10)"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("h3",null,"Features"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("ul",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("li",{parentName:"ul"},"添加 rerender 选项，用于控制 itemRender 的刷新 (",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("a",{parentName:"li",href:"https://github.com/limaofeng/asany-sortable/commit/0cefd1dde94582688aa15402fc2c1d6401c99d5e"},"0cefd1d"),")")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("h2",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("a",{parentName:"h2",href:"https://github.com/limaofeng/asany-sortable/compare/v0.1.17...v0.1.18"},"0.1.18")," (2021-08-10)"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("h3",null,"Features"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("ul",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("li",{parentName:"ul"},"itemRender 如果为函数,使用函数式调用 (",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("a",{parentName:"li",href:"https://github.com/limaofeng/asany-sortable/commit/ad5bc9c00b3bb41913b58bbf05b4d477734f940f"},"ad5bc9c"),")")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("h2",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("a",{parentName:"h2",href:"https://github.com/limaofeng/asany-sortable/compare/v0.1.16...v0.1.17"},"0.1.17")," (2021-08-10)"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("h3",null,"Features"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("ul",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("li",{parentName:"ul"},"添加 dragCondition 属性，用于设置 SortItem 是否可以拖拽，对应  useDrag 的 canDrag (",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("a",{parentName:"li",href:"https://github.com/limaofeng/asany-sortable/commit/eb661e044e346de8ec8c5a97ddba08761e7a492a"},"eb661e0"),")")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("h2",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("a",{parentName:"h2",href:"https://github.com/limaofeng/asany-sortable/compare/v0.1.15...v0.1.16"},"0.1.16")," (2021-08-09)"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("h3",null,"Bug Fixes"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("ul",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("li",{parentName:"ul"},"优化大数据量时的比较逻辑，避免卡顿 (",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("a",{parentName:"li",href:"https://github.com/limaofeng/asany-sortable/commit/95e50f24eb71e426ad2e08afc8541caf88e7fec7"},"95e50f2"),")")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("h2",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("a",{parentName:"h2",href:"https://github.com/limaofeng/asany-sortable/compare/v0.1.12...v0.1.13"},"0.1.13")," (2021-08-09)"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("h3",null,"Bug Fixes"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("ul",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("li",{parentName:"ul"},"渲染 SortItem 时，添加 useMemo，优化性能 (",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("a",{parentName:"li",href:"https://github.com/limaofeng/asany-sortable/commit/d17f5d7f9a1c8539e80909524912629739373977"},"d17f5d7"),")")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("h2",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("a",{parentName:"h2",href:"https://github.com/limaofeng/asany-sortable/compare/v0.1.7...v0.1.8"},"0.1.8")," (2021-07-14)"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("h3",null,"Bug Fixes"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("ul",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("li",{parentName:"ul"},"快速移入移出元素，会偶尔出现不能交换顺序的情况 (",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("a",{parentName:"li",href:"https://github.com/limaofeng/asany-sortable/commit/fb1d7b96d5afaec436b5158e3510a0083b66f13e"},"fb1d7b9"),")")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("h3",null,"Features"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("ul",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("li",{parentName:"ul"},"统一交换检测逻辑 (",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("a",{parentName:"li",href:"https://github.com/limaofeng/asany-sortable/commit/51c999705aeb2e34ec9e2979e12e0557d53ca2d3"},"51c9997"),")")))}MDXContent.displayName="MDXContent",MDXContent.isMDXComponent=!0;var __page=function __page(){throw new Error("Docs-only story")};__page.parameters={docsOnly:!0};var componentMeta={title:"综述/更新日志",includeStories:["__page"]},mdxStoryNameToKey={};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs=Object.assign({},componentMeta.parameters.docs||{},{page:function page(){return Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_7__.a,{mdxStoryNameToKey:mdxStoryNameToKey,mdxComponentAnnotations:componentMeta},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)(MDXContent,null))}}),__webpack_exports__.default=componentMeta},"./stories/docs/Welcome.stories.mdx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"__page",(function(){return __page}));__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/react/index.js");var _mdx_js_react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@mdx-js/react/dist/esm.js"),_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@storybook/addon-docs/dist/esm/index.js"),_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/@storybook/addon-docs/blocks.js"),_excluded=["components"];function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var layoutProps={};function MDXContent(_ref){var components=_ref.components,props=_objectWithoutProperties(_ref,_excluded);return Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("wrapper",_extends({},layoutProps,props,{components:components,mdxType:"MDXLayout"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)(_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_8__.a,{title:"综述/快速开始",mdxType:"Meta"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("h1",null,"快速开始"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("hr",null),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("h2",null,"安装"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("p",null,"使用 npm "),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("pre",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("code",{parentName:"pre"},"npm install @asany/sortable --D\n")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("p",null,"使用 yarn"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("pre",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)("code",{parentName:"pre"},"yarn add @asany/sortable\n")))}MDXContent.displayName="MDXContent",MDXContent.isMDXComponent=!0;var __page=function __page(){throw new Error("Docs-only story")};__page.parameters={docsOnly:!0};var componentMeta={title:"综述/快速开始",includeStories:["__page"]},mdxStoryNameToKey={};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs=Object.assign({},componentMeta.parameters.docs||{},{page:function page(){return Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_7__.a,{mdxStoryNameToKey:mdxStoryNameToKey,mdxComponentAnnotations:componentMeta},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__.b)(MDXContent,null))}}),__webpack_exports__.default=componentMeta},"./stories/heros.json":function(module){module.exports=JSON.parse('["司空震","澜","夏洛特","阿古朵","蒙恬","镜","蒙犽","鲁班大师","西施","马超","曜","云中君","瑶","盘古","猪八戒","嫦娥","上官婉儿","李信","沈梦溪","伽罗","盾山","司马懿","孙策","元歌","米莱狄","狂铁","弈星","裴擒虎","杨玉环","公孙离","明世隐","女娲","梦奇","苏烈","百里玄策","百里守约","铠","鬼谷子","干将莫邪","东皇太一","大乔","黄忠","诸葛亮","哪吒","太乙真人","蔡文姬","雅典娜","杨戬","成吉思汗","钟馗","虞姬","李元芳","张飞","刘备","后羿","牛魔","孙悟空","亚瑟","橘右京","娜可露露","不知火舞","张良","花木兰","兰陵王","王昭君","韩信","刘邦","姜子牙","露娜","程咬金","安琪拉","貂蝉","关羽","老夫子","武则天","项羽","达摩","狄仁杰","马可波罗","李白","宫本武藏","典韦","曹操","甄姬","夏侯惇","周瑜","吕布","芈月","白起","扁鹊","孙膑","钟无艳","阿轲","高渐离","刘禅","庄周","鲁班七号","孙尚香","嬴政","妲己","墨子","赵云","小乔","廉颇"]')},"./storybook-init-framework-entry.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__("./node_modules/@storybook/react/dist/esm/client/index.js")},0:function(module,exports,__webpack_require__){__webpack_require__("./node_modules/@storybook/core-client/dist/esm/globals/polyfills.js"),__webpack_require__("./node_modules/@storybook/core-client/dist/esm/globals/globals.js"),__webpack_require__("./storybook-init-framework-entry.js"),__webpack_require__("./node_modules/@storybook/react/dist/esm/client/docs/config-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/react/dist/esm/client/preview/config-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-links/preview.js-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-docs/preview.js-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-actions/preview.js-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-backgrounds/preview.js-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-measure/preview.js-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-outline/preview.js-generated-config-entry.js"),__webpack_require__("./.storybook/preview.js-generated-config-entry.js"),module.exports=__webpack_require__("./generated-stories-entry.js")},1:function(module,exports){}},[[0,4,5]]]);
//# sourceMappingURL=main.22aad916.iframe.bundle.js.map